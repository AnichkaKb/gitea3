#!/usr/bin/env node
import {createRequire} from 'module';const require = createRequire(import.meta.url);
var ad=Object.create;var Us=Object.defineProperty;var ld=Object.getOwnPropertyDescriptor;var ud=Object.getOwnPropertyNames;var cd=Object.getPrototypeOf,hd=Object.prototype.hasOwnProperty;var ye=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Ar=(t,e)=>()=>(t&&(e=t(t=0)),e);var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),fd=(t,e)=>{for(var r in e)Us(t,r,{get:e[r],enumerable:!0})},dd=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ud(e))!hd.call(t,i)&&i!==r&&Us(t,i,{get:()=>e[i],enumerable:!(n=ld(e,i))||n.enumerable});return t};var Le=(t,e,r)=>(r=t!=null?ad(cd(t)):{},dd(e||!t||!t.__esModule?Us(r,"default",{value:t,enumerable:!0}):r,t));var ca=C((gy,ua)=>{"use strict";var Ms=ye("https"),zs=ye("http"),{URL:la}=ye("url"),js=class extends zs.Agent{constructor(e){let{proxy:r,proxyRequestOptions:n,...i}=e;super(i),this.proxy=typeof r=="string"?new la(r):r,this.proxyRequestOptions=n||{}}createConnection(e,r){let n={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0};if(this.proxy.username||this.proxy.password){let a=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");n.headers["proxy-authorization"]=`Basic ${a}`}this.proxy.protocol==="https:"&&(n.servername=this.proxy.hostname);let i=(this.proxy.protocol==="http:"?zs:Ms).request(n);i.once("connect",(a,l,c)=>{i.removeAllListeners(),l.removeAllListeners(),a.statusCode===200?r(null,l):(l.destroy(),r(new Error(`Bad response: ${a.statusCode}`),null))}),i.once("timeout",()=>{i.destroy(new Error("Proxy timeout"))}),i.once("error",a=>{i.removeAllListeners(),r(a,null)}),i.end()}},ks=class extends Ms.Agent{constructor(e){let{proxy:r,proxyRequestOptions:n,...i}=e;super(i),this.proxy=typeof r=="string"?new la(r):r,this.proxyRequestOptions=n||{}}createConnection(e,r){let n={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0};if(this.proxy.username||this.proxy.password){let a=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");n.headers["proxy-authorization"]=`Basic ${a}`}this.proxy.protocol==="https:"&&(n.servername=this.proxy.hostname);let i=(this.proxy.protocol==="http:"?zs:Ms).request(n);i.once("connect",(a,l,c)=>{if(i.removeAllListeners(),l.removeAllListeners(),a.statusCode===200){let h=super.createConnection({...e,socket:l});r(null,h)}else l.destroy(),r(new Error(`Bad response: ${a.statusCode}`),null)}),i.once("timeout",()=>{i.destroy(new Error("Proxy timeout"))}),i.once("error",a=>{i.removeAllListeners(),r(a,null)}),i.end()}};ua.exports={HttpProxyAgent:js,HttpsProxyAgent:ks}});var pa=C(da=>{"use strict";var pd=ye("url").parse,md={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},gd=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function bd(t){var e=typeof t=="string"?pd(t):t||{},r=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||md[r]||0,!yd(n,i)))return"";var a=qt("npm_config_"+r+"_proxy")||qt(r+"_proxy")||qt("npm_config_proxy")||qt("all_proxy");return a&&a.indexOf("://")===-1&&(a=r+"://"+a),a}function yd(t,e){var r=(qt("npm_config_no_proxy")||qt("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),a=i?i[1]:n,l=i?parseInt(i[2]):0;return l&&l!==e?!0:/^[.*]/.test(a)?(a.charAt(0)==="*"&&(a=a.slice(1)),!gd.call(t,a)):t!==a}):!0}function qt(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}da.getProxyForUrl=bd});var Qs=C((Ay,_a)=>{"use strict";function Sd(t,e){var r=t;e.slice(0,-1).forEach(function(i){r=r[i]||{}});var n=e[e.length-1];return n in r}function ba(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function ya(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}_a.exports=function(t,e){e||(e={});var r={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(r.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?r.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(T){r.bools[T]=!0});var n={};function i(T){return n[T].some(function(I){return r.bools[I]})}Object.keys(e.alias||{}).forEach(function(T){n[T]=[].concat(e.alias[T]),n[T].forEach(function(I){n[I]=[T].concat(n[T].filter(function(D){return I!==D}))})}),[].concat(e.string).filter(Boolean).forEach(function(T){r.strings[T]=!0,n[T]&&[].concat(n[T]).forEach(function(I){r.strings[I]=!0})});var a=e.default||{},l={_:[]};function c(T,I){return r.allBools&&/^--[^=]+$/.test(I)||r.strings[T]||r.bools[T]||n[T]}function h(T,I,D){for(var H=T,Q=0;Q<I.length-1;Q++){var re=I[Q];if(ya(H,re))return;H[re]===void 0&&(H[re]={}),(H[re]===Object.prototype||H[re]===Number.prototype||H[re]===String.prototype)&&(H[re]={}),H[re]===Array.prototype&&(H[re]=[]),H=H[re]}var ne=I[I.length-1];ya(H,ne)||((H===Object.prototype||H===Number.prototype||H===String.prototype)&&(H={}),H===Array.prototype&&(H=[]),H[ne]===void 0||r.bools[ne]||typeof H[ne]=="boolean"?H[ne]=D:Array.isArray(H[ne])?H[ne].push(D):H[ne]=[H[ne],D])}function f(T,I,D){if(!(D&&r.unknownFn&&!c(T,D)&&r.unknownFn(D)===!1)){var H=!r.strings[T]&&ba(I)?Number(I):I;h(l,T.split("."),H),(n[T]||[]).forEach(function(Q){h(l,Q.split("."),H)})}}Object.keys(r.bools).forEach(function(T){f(T,a[T]===void 0?!1:a[T])});var b=[];t.indexOf("--")!==-1&&(b=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var m=0;m<t.length;m++){var g=t[m],p,_;if(/^--.+=/.test(g)){var S=g.match(/^--([^=]+)=([\s\S]*)$/);p=S[1];var A=S[2];r.bools[p]&&(A=A!=="false"),f(p,A,g)}else if(/^--no-.+/.test(g))p=g.match(/^--no-(.+)/)[1],f(p,!1,g);else if(/^--.+/.test(g))p=g.match(/^--(.+)/)[1],_=t[m+1],_!==void 0&&!/^(-|--)[^-]/.test(_)&&!r.bools[p]&&!r.allBools&&(!n[p]||!i(p))?(f(p,_,g),m+=1):/^(true|false)$/.test(_)?(f(p,_==="true",g),m+=1):f(p,r.strings[p]?"":!0,g);else if(/^-[^-]+/.test(g)){for(var w=g.slice(1,-1).split(""),O=!1,x=0;x<w.length;x++){if(_=g.slice(x+2),_==="-"){f(w[x],_,g);continue}if(/[A-Za-z]/.test(w[x])&&_[0]==="="){f(w[x],_.slice(1),g),O=!0;break}if(/[A-Za-z]/.test(w[x])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(_)){f(w[x],_,g),O=!0;break}if(w[x+1]&&w[x+1].match(/\W/)){f(w[x],g.slice(x+2),g),O=!0;break}else f(w[x],r.strings[w[x]]?"":!0,g)}p=g.slice(-1)[0],!O&&p!=="-"&&(t[m+1]&&!/^(-|--)[^-]/.test(t[m+1])&&!r.bools[p]&&(!n[p]||!i(p))?(f(p,t[m+1],g),m+=1):t[m+1]&&/^(true|false)$/.test(t[m+1])?(f(p,t[m+1]==="true",g),m+=1):f(p,r.strings[p]?"":!0,g))}else if((!r.unknownFn||r.unknownFn(g)!==!1)&&l._.push(r.strings._||!ba(g)?g:Number(g)),e.stopEarly){l._.push.apply(l._,t.slice(m+1));break}}return Object.keys(a).forEach(function(T){Sd(l,T.split("."))||(h(l,T.split("."),a[T]),(n[T]||[]).forEach(function(I){h(l,I.split("."),a[T])}))}),e["--"]?l["--"]=b.slice():b.forEach(function(T){l._.push(T)}),l}});var Sa=C((xn,Ra)=>{(function(t,e){typeof xn=="object"&&typeof Ra<"u"?e(xn):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.WebStreamsPolyfill={}))})(xn,function(t){"use strict";let e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:s=>`Symbol(${s})`;function r(){}function n(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let i=n();function a(s){return typeof s=="object"&&s!==null||typeof s=="function"}let l=r,c=Promise,h=Promise.prototype.then,f=Promise.resolve.bind(c),b=Promise.reject.bind(c);function m(s){return new c(s)}function g(s){return f(s)}function p(s){return b(s)}function _(s,o,u){return h.call(s,o,u)}function S(s,o,u){_(_(s,o,u),void 0,l)}function A(s,o){S(s,o)}function w(s,o){S(s,void 0,o)}function O(s,o,u){return _(s,o,u)}function x(s){_(s,void 0,l)}let T=(()=>{let s=i&&i.queueMicrotask;if(typeof s=="function")return s;let o=g(void 0);return u=>_(o,u)})();function I(s,o,u){if(typeof s!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(s,o,u)}function D(s,o,u){try{return g(I(s,o,u))}catch(d){return p(d)}}let H=16384;class Q{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(o){let u=this._back,d=u;u._elements.length===H-1&&(d={_elements:[],_next:void 0}),u._elements.push(o),d!==u&&(this._back=d,u._next=d),++this._size}shift(){let o=this._front,u=o,d=this._cursor,y=d+1,R=o._elements,E=R[d];return y===H&&(u=o._next,y=0),--this._size,this._cursor=y,o!==u&&(this._front=u),R[d]=void 0,E}forEach(o){let u=this._cursor,d=this._front,y=d._elements;for(;(u!==y.length||d._next!==void 0)&&!(u===y.length&&(d=d._next,y=d._elements,u=0,y.length===0));)o(y[u]),++u}peek(){let o=this._front,u=this._cursor;return o._elements[u]}}function re(s,o){s._ownerReadableStream=o,o._reader=s,o._state==="readable"?vt(s):o._state==="closed"?Yr(s):lr(s,o._storedError)}function ne(s,o){let u=s._ownerReadableStream;return $e(u,o)}function we(s){s._ownerReadableStream._state==="readable"?v(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):J(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),s._ownerReadableStream._reader=void 0,s._ownerReadableStream=void 0}function Ue(s){return new TypeError("Cannot "+s+" a stream using a released reader")}function vt(s){s._closedPromise=m((o,u)=>{s._closedPromise_resolve=o,s._closedPromise_reject=u})}function lr(s,o){vt(s),v(s,o)}function Yr(s){vt(s),Z(s)}function v(s,o){s._closedPromise_reject!==void 0&&(x(s._closedPromise),s._closedPromise_reject(o),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0)}function J(s,o){lr(s,o)}function Z(s){s._closedPromise_resolve!==void 0&&(s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0)}let ge=e("[[AbortSteps]]"),Ke=e("[[ErrorSteps]]"),ut=e("[[CancelSteps]]"),We=e("[[PullSteps]]"),Oe=Number.isFinite||function(s){return typeof s=="number"&&isFinite(s)},Re=Math.trunc||function(s){return s<0?Math.ceil(s):Math.floor(s)};function ur(s){return typeof s=="object"||typeof s=="function"}function oe(s,o){if(s!==void 0&&!ur(s))throw new TypeError(`${o} is not an object.`)}function he(s,o){if(typeof s!="function")throw new TypeError(`${o} is not a function.`)}function qh(s){return typeof s=="object"&&s!==null||typeof s=="function"}function Zi(s,o){if(!qh(s))throw new TypeError(`${o} is not an object.`)}function Me(s,o,u){if(s===void 0)throw new TypeError(`Parameter ${o} is required in '${u}'.`)}function ds(s,o,u){if(s===void 0)throw new TypeError(`${o} is required in '${u}'.`)}function ps(s){return Number(s)}function Ji(s){return s===0?0:s}function Uh(s){return Ji(Re(s))}function eo(s,o){let d=Number.MAX_SAFE_INTEGER,y=Number(s);if(y=Ji(y),!Oe(y))throw new TypeError(`${o} is not a finite number`);if(y=Uh(y),y<0||y>d)throw new TypeError(`${o} is outside the accepted range of 0 to ${d}, inclusive`);return!Oe(y)||y===0?0:y}function ms(s,o){if(!tt(s))throw new TypeError(`${o} is not a ReadableStream.`)}function xt(s){return new cr(s)}function to(s,o){s._reader._readRequests.push(o)}function gs(s,o,u){let y=s._reader._readRequests.shift();u?y._closeSteps():y._chunkSteps(o)}function Qr(s){return s._reader._readRequests.length}function ro(s){let o=s._reader;return!(o===void 0||!Xe(o))}class cr{constructor(o){if(Me(o,1,"ReadableStreamDefaultReader"),ms(o,"First parameter"),rt(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");re(this,o),this._readRequests=new Q}get closed(){return Xe(this)?this._closedPromise:p(Kr("closed"))}cancel(o=void 0){return Xe(this)?this._ownerReadableStream===void 0?p(Ue("cancel")):ne(this,o):p(Kr("cancel"))}read(){if(!Xe(this))return p(Kr("read"));if(this._ownerReadableStream===void 0)return p(Ue("read from"));let o,u,d=m((R,E)=>{o=R,u=E});return hr(this,{_chunkSteps:R=>o({value:R,done:!1}),_closeSteps:()=>o({value:void 0,done:!0}),_errorSteps:R=>u(R)}),d}releaseLock(){if(!Xe(this))throw Kr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");we(this)}}}Object.defineProperties(cr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(cr.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Xe(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_readRequests")?!1:s instanceof cr}function hr(s,o){let u=s._ownerReadableStream;u._disturbed=!0,u._state==="closed"?o._closeSteps():u._state==="errored"?o._errorSteps(u._storedError):u._readableStreamController[We](o)}function Kr(s){return new TypeError(`ReadableStreamDefaultReader.prototype.${s} can only be used on a ReadableStreamDefaultReader`)}let no=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class so{constructor(o,u){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=o,this._preventCancel=u}next(){let o=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?O(this._ongoingPromise,o,o):o(),this._ongoingPromise}return(o){let u=()=>this._returnSteps(o);return this._ongoingPromise?O(this._ongoingPromise,u,u):u()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let o=this._reader;if(o._ownerReadableStream===void 0)return p(Ue("iterate"));let u,d,y=m((E,$)=>{u=E,d=$});return hr(o,{_chunkSteps:E=>{this._ongoingPromise=void 0,T(()=>u({value:E,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,we(o),u({value:void 0,done:!0})},_errorSteps:E=>{this._ongoingPromise=void 0,this._isFinished=!0,we(o),d(E)}}),y}_returnSteps(o){if(this._isFinished)return Promise.resolve({value:o,done:!0});this._isFinished=!0;let u=this._reader;if(u._ownerReadableStream===void 0)return p(Ue("finish iterating"));if(!this._preventCancel){let d=ne(u,o);return we(u),O(d,()=>({value:o,done:!0}))}return we(u),g({value:o,done:!0})}}let io={next(){return oo(this)?this._asyncIteratorImpl.next():p(ao("next"))},return(s){return oo(this)?this._asyncIteratorImpl.return(s):p(ao("return"))}};no!==void 0&&Object.setPrototypeOf(io,no);function Wh(s,o){let u=xt(s),d=new so(u,o),y=Object.create(io);return y._asyncIteratorImpl=d,y}function oo(s){if(!a(s)||!Object.prototype.hasOwnProperty.call(s,"_asyncIteratorImpl"))return!1;try{return s._asyncIteratorImpl instanceof so}catch{return!1}}function ao(s){return new TypeError(`ReadableStreamAsyncIterator.${s} can only be used on a ReadableSteamAsyncIterator`)}let lo=Number.isNaN||function(s){return s!==s};function fr(s){return s.slice()}function uo(s,o,u,d,y){new Uint8Array(s).set(new Uint8Array(u,d,y),o)}function dy(s){return s}function Xr(s){return!1}function co(s,o,u){if(s.slice)return s.slice(o,u);let d=u-o,y=new ArrayBuffer(d);return uo(y,0,s,o,d),y}function Mh(s){return!(typeof s!="number"||lo(s)||s<0)}function ho(s){let o=co(s.buffer,s.byteOffset,s.byteOffset+s.byteLength);return new Uint8Array(o)}function bs(s){let o=s._queue.shift();return s._queueTotalSize-=o.size,s._queueTotalSize<0&&(s._queueTotalSize=0),o.value}function ys(s,o,u){if(!Mh(u)||u===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");s._queue.push({value:o,size:u}),s._queueTotalSize+=u}function zh(s){return s._queue.peek().value}function Ze(s){s._queue=new Q,s._queueTotalSize=0}class dr{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!_s(this))throw Es("view");return this._view}respond(o){if(!_s(this))throw Es("respond");if(Me(o,1,"respond"),o=eo(o,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Xr(this._view.buffer),rn(this._associatedReadableByteStreamController,o)}respondWithNewView(o){if(!_s(this))throw Es("respondWithNewView");if(Me(o,1,"respondWithNewView"),!ArrayBuffer.isView(o))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Xr(o.buffer),nn(this._associatedReadableByteStreamController,o)}}Object.defineProperties(dr.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(dr.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Ot{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ct(this))throw mr("byobRequest");return Ss(this)}get desiredSize(){if(!ct(this))throw mr("desiredSize");return wo(this)}close(){if(!ct(this))throw mr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let o=this._controlledReadableByteStream._state;if(o!=="readable")throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be closed`);pr(this)}enqueue(o){if(!ct(this))throw mr("enqueue");if(Me(o,1,"enqueue"),!ArrayBuffer.isView(o))throw new TypeError("chunk must be an array buffer view");if(o.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(o.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let u=this._controlledReadableByteStream._state;if(u!=="readable")throw new TypeError(`The stream (in ${u} state) is not in the readable state and cannot be enqueued to`);tn(this,o)}error(o=void 0){if(!ct(this))throw mr("error");Ie(this,o)}[ut](o){fo(this),Ze(this);let u=this._cancelAlgorithm(o);return en(this),u}[We](o){let u=this._controlledReadableByteStream;if(this._queueTotalSize>0){let y=this._queue.shift();this._queueTotalSize-=y.byteLength,bo(this);let R=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);o._chunkSteps(R);return}let d=this._autoAllocateChunkSize;if(d!==void 0){let y;try{y=new ArrayBuffer(d)}catch(E){o._errorSteps(E);return}let R={buffer:y,bufferByteLength:d,byteOffset:0,byteLength:d,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(R)}to(u,o),ht(this)}}Object.defineProperties(Ot.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Ot.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function ct(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableByteStream")?!1:s instanceof Ot}function _s(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_associatedReadableByteStreamController")?!1:s instanceof dr}function ht(s){if(!Vh(s))return;if(s._pulling){s._pullAgain=!0;return}s._pulling=!0;let u=s._pullAlgorithm();S(u,()=>{s._pulling=!1,s._pullAgain&&(s._pullAgain=!1,ht(s))},d=>{Ie(s,d)})}function fo(s){Rs(s),s._pendingPullIntos=new Q}function ws(s,o){let u=!1;s._state==="closed"&&(u=!0);let d=po(o);o.readerType==="default"?gs(s,d,u):Kh(s,d,u)}function po(s){let o=s.bytesFilled,u=s.elementSize;return new s.viewConstructor(s.buffer,s.byteOffset,o/u)}function Zr(s,o,u,d){s._queue.push({buffer:o,byteOffset:u,byteLength:d}),s._queueTotalSize+=d}function mo(s,o){let u=o.elementSize,d=o.bytesFilled-o.bytesFilled%u,y=Math.min(s._queueTotalSize,o.byteLength-o.bytesFilled),R=o.bytesFilled+y,E=R-R%u,$=y,B=!1;E>d&&($=E-o.bytesFilled,B=!0);let U=s._queue;for(;$>0;){let M=U.peek(),z=Math.min($,M.byteLength),ee=o.byteOffset+o.bytesFilled;uo(o.buffer,ee,M.buffer,M.byteOffset,z),M.byteLength===z?U.shift():(M.byteOffset+=z,M.byteLength-=z),s._queueTotalSize-=z,go(s,z,o),$-=z}return B}function go(s,o,u){u.bytesFilled+=o}function bo(s){s._queueTotalSize===0&&s._closeRequested?(en(s),Er(s._controlledReadableByteStream)):ht(s)}function Rs(s){s._byobRequest!==null&&(s._byobRequest._associatedReadableByteStreamController=void 0,s._byobRequest._view=null,s._byobRequest=null)}function yo(s){for(;s._pendingPullIntos.length>0;){if(s._queueTotalSize===0)return;let o=s._pendingPullIntos.peek();mo(s,o)&&(Jr(s),ws(s._controlledReadableByteStream,o))}}function jh(s,o,u){let d=s._controlledReadableByteStream,y=1;o.constructor!==DataView&&(y=o.constructor.BYTES_PER_ELEMENT);let R=o.constructor,E=o.buffer,$={buffer:E,bufferByteLength:E.byteLength,byteOffset:o.byteOffset,byteLength:o.byteLength,bytesFilled:0,elementSize:y,viewConstructor:R,readerType:"byob"};if(s._pendingPullIntos.length>0){s._pendingPullIntos.push($),Eo(d,u);return}if(d._state==="closed"){let B=new R($.buffer,$.byteOffset,0);u._closeSteps(B);return}if(s._queueTotalSize>0){if(mo(s,$)){let B=po($);bo(s),u._chunkSteps(B);return}if(s._closeRequested){let B=new TypeError("Insufficient bytes to fill elements in the given buffer");Ie(s,B),u._errorSteps(B);return}}s._pendingPullIntos.push($),Eo(d,u),ht(s)}function kh(s,o){let u=s._controlledReadableByteStream;if(Ts(u))for(;To(u)>0;){let d=Jr(s);ws(u,d)}}function Gh(s,o,u){if(go(s,o,u),u.bytesFilled<u.elementSize)return;Jr(s);let d=u.bytesFilled%u.elementSize;if(d>0){let y=u.byteOffset+u.bytesFilled,R=co(u.buffer,y-d,y);Zr(s,R,0,R.byteLength)}u.bytesFilled-=d,ws(s._controlledReadableByteStream,u),yo(s)}function _o(s,o){let u=s._pendingPullIntos.peek();Rs(s),s._controlledReadableByteStream._state==="closed"?kh(s):Gh(s,o,u),ht(s)}function Jr(s){return s._pendingPullIntos.shift()}function Vh(s){let o=s._controlledReadableByteStream;return o._state!=="readable"||s._closeRequested||!s._started?!1:!!(ro(o)&&Qr(o)>0||Ts(o)&&To(o)>0||wo(s)>0)}function en(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0}function pr(s){let o=s._controlledReadableByteStream;if(!(s._closeRequested||o._state!=="readable")){if(s._queueTotalSize>0){s._closeRequested=!0;return}if(s._pendingPullIntos.length>0&&s._pendingPullIntos.peek().bytesFilled>0){let d=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ie(s,d),d}en(s),Er(o)}}function tn(s,o){let u=s._controlledReadableByteStream;if(s._closeRequested||u._state!=="readable")return;let d=o.buffer,y=o.byteOffset,R=o.byteLength,E=d;if(s._pendingPullIntos.length>0){let $=s._pendingPullIntos.peek();Xr($.buffer),$.buffer=$.buffer}if(Rs(s),ro(u))if(Qr(u)===0)Zr(s,E,y,R);else{s._pendingPullIntos.length>0&&Jr(s);let $=new Uint8Array(E,y,R);gs(u,$,!1)}else Ts(u)?(Zr(s,E,y,R),yo(s)):Zr(s,E,y,R);ht(s)}function Ie(s,o){let u=s._controlledReadableByteStream;u._state==="readable"&&(fo(s),Ze(s),en(s),Yo(u,o))}function Ss(s){if(s._byobRequest===null&&s._pendingPullIntos.length>0){let o=s._pendingPullIntos.peek(),u=new Uint8Array(o.buffer,o.byteOffset+o.bytesFilled,o.byteLength-o.bytesFilled),d=Object.create(dr.prototype);Qh(d,s,u),s._byobRequest=d}return s._byobRequest}function wo(s){let o=s._controlledReadableByteStream._state;return o==="errored"?null:o==="closed"?0:s._strategyHWM-s._queueTotalSize}function rn(s,o){let u=s._pendingPullIntos.peek();if(s._controlledReadableByteStream._state==="closed"){if(o!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(o===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(u.bytesFilled+o>u.byteLength)throw new RangeError("bytesWritten out of range")}u.buffer=u.buffer,_o(s,o)}function nn(s,o){let u=s._pendingPullIntos.peek();if(s._controlledReadableByteStream._state==="closed"){if(o.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(o.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(u.byteOffset+u.bytesFilled!==o.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(u.bufferByteLength!==o.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(u.bytesFilled+o.byteLength>u.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let y=o.byteLength;u.buffer=o.buffer,_o(s,y)}function Ro(s,o,u,d,y,R,E){o._controlledReadableByteStream=s,o._pullAgain=!1,o._pulling=!1,o._byobRequest=null,o._queue=o._queueTotalSize=void 0,Ze(o),o._closeRequested=!1,o._started=!1,o._strategyHWM=R,o._pullAlgorithm=d,o._cancelAlgorithm=y,o._autoAllocateChunkSize=E,o._pendingPullIntos=new Q,s._readableStreamController=o;let $=u();S(g($),()=>{o._started=!0,ht(o)},B=>{Ie(o,B)})}function Yh(s,o,u){let d=Object.create(Ot.prototype),y=()=>{},R=()=>g(void 0),E=()=>g(void 0);o.start!==void 0&&(y=()=>o.start(d)),o.pull!==void 0&&(R=()=>o.pull(d)),o.cancel!==void 0&&(E=B=>o.cancel(B));let $=o.autoAllocateChunkSize;if($===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ro(s,d,y,R,E,u,$)}function Qh(s,o,u){s._associatedReadableByteStreamController=o,s._view=u}function Es(s){return new TypeError(`ReadableStreamBYOBRequest.prototype.${s} can only be used on a ReadableStreamBYOBRequest`)}function mr(s){return new TypeError(`ReadableByteStreamController.prototype.${s} can only be used on a ReadableByteStreamController`)}function So(s){return new gr(s)}function Eo(s,o){s._reader._readIntoRequests.push(o)}function Kh(s,o,u){let y=s._reader._readIntoRequests.shift();u?y._closeSteps(o):y._chunkSteps(o)}function To(s){return s._reader._readIntoRequests.length}function Ts(s){let o=s._reader;return!(o===void 0||!ft(o))}class gr{constructor(o){if(Me(o,1,"ReadableStreamBYOBReader"),ms(o,"First parameter"),rt(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ct(o._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");re(this,o),this._readIntoRequests=new Q}get closed(){return ft(this)?this._closedPromise:p(sn("closed"))}cancel(o=void 0){return ft(this)?this._ownerReadableStream===void 0?p(Ue("cancel")):ne(this,o):p(sn("cancel"))}read(o){if(!ft(this))return p(sn("read"));if(!ArrayBuffer.isView(o))return p(new TypeError("view must be an array buffer view"));if(o.byteLength===0)return p(new TypeError("view must have non-zero byteLength"));if(o.buffer.byteLength===0)return p(new TypeError("view's buffer must have non-zero byteLength"));if(Xr(o.buffer),this._ownerReadableStream===void 0)return p(Ue("read from"));let u,d,y=m((E,$)=>{u=E,d=$});return Ao(this,o,{_chunkSteps:E=>u({value:E,done:!1}),_closeSteps:E=>u({value:E,done:!0}),_errorSteps:E=>d(E)}),y}releaseLock(){if(!ft(this))throw sn("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");we(this)}}}Object.defineProperties(gr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(gr.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function ft(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_readIntoRequests")?!1:s instanceof gr}function Ao(s,o,u){let d=s._ownerReadableStream;d._disturbed=!0,d._state==="errored"?u._errorSteps(d._storedError):jh(d._readableStreamController,o,u)}function sn(s){return new TypeError(`ReadableStreamBYOBReader.prototype.${s} can only be used on a ReadableStreamBYOBReader`)}function br(s,o){let{highWaterMark:u}=s;if(u===void 0)return o;if(lo(u)||u<0)throw new RangeError("Invalid highWaterMark");return u}function on(s){let{size:o}=s;return o||(()=>1)}function an(s,o){oe(s,o);let u=s==null?void 0:s.highWaterMark,d=s==null?void 0:s.size;return{highWaterMark:u===void 0?void 0:ps(u),size:d===void 0?void 0:Xh(d,`${o} has member 'size' that`)}}function Xh(s,o){return he(s,o),u=>ps(s(u))}function Zh(s,o){oe(s,o);let u=s==null?void 0:s.abort,d=s==null?void 0:s.close,y=s==null?void 0:s.start,R=s==null?void 0:s.type,E=s==null?void 0:s.write;return{abort:u===void 0?void 0:Jh(u,s,`${o} has member 'abort' that`),close:d===void 0?void 0:ef(d,s,`${o} has member 'close' that`),start:y===void 0?void 0:tf(y,s,`${o} has member 'start' that`),write:E===void 0?void 0:rf(E,s,`${o} has member 'write' that`),type:R}}function Jh(s,o,u){return he(s,u),d=>D(s,o,[d])}function ef(s,o,u){return he(s,u),()=>D(s,o,[])}function tf(s,o,u){return he(s,u),d=>I(s,o,[d])}function rf(s,o,u){return he(s,u),(d,y)=>D(s,o,[d,y])}function Co(s,o){if(!It(s))throw new TypeError(`${o} is not a WritableStream.`)}function nf(s){if(typeof s!="object"||s===null)return!1;try{return typeof s.aborted=="boolean"}catch{return!1}}let sf=typeof AbortController=="function";function of(){if(sf)return new AbortController}class yr{constructor(o={},u={}){o===void 0?o=null:Zi(o,"First parameter");let d=an(u,"Second parameter"),y=Zh(o,"First parameter");if(xo(this),y.type!==void 0)throw new RangeError("Invalid type is specified");let E=on(d),$=br(d,1);wf(this,y,$,E)}get locked(){if(!It(this))throw fn("locked");return $t(this)}abort(o=void 0){return It(this)?$t(this)?p(new TypeError("Cannot abort a stream that already has a writer")):ln(this,o):p(fn("abort"))}close(){return It(this)?$t(this)?p(new TypeError("Cannot close a stream that already has a writer")):He(this)?p(new TypeError("Cannot close an already-closing stream")):Oo(this):p(fn("close"))}getWriter(){if(!It(this))throw fn("getWriter");return vo(this)}}Object.defineProperties(yr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(yr.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});function vo(s){return new _r(s)}function af(s,o,u,d,y=1,R=()=>1){let E=Object.create(yr.prototype);xo(E);let $=Object.create(Pt.prototype);return Do(E,$,s,o,u,d,y,R),E}function xo(s){s._state="writable",s._storedError=void 0,s._writer=void 0,s._writableStreamController=void 0,s._writeRequests=new Q,s._inFlightWriteRequest=void 0,s._closeRequest=void 0,s._inFlightCloseRequest=void 0,s._pendingAbortRequest=void 0,s._backpressure=!1}function It(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_writableStreamController")?!1:s instanceof yr}function $t(s){return s._writer!==void 0}function ln(s,o){var u;if(s._state==="closed"||s._state==="errored")return g(void 0);s._writableStreamController._abortReason=o,(u=s._writableStreamController._abortController)===null||u===void 0||u.abort();let d=s._state;if(d==="closed"||d==="errored")return g(void 0);if(s._pendingAbortRequest!==void 0)return s._pendingAbortRequest._promise;let y=!1;d==="erroring"&&(y=!0,o=void 0);let R=m((E,$)=>{s._pendingAbortRequest={_promise:void 0,_resolve:E,_reject:$,_reason:o,_wasAlreadyErroring:y}});return s._pendingAbortRequest._promise=R,y||Cs(s,o),R}function Oo(s){let o=s._state;if(o==="closed"||o==="errored")return p(new TypeError(`The stream (in ${o} state) is not in the writable state and cannot be closed`));let u=m((y,R)=>{let E={_resolve:y,_reject:R};s._closeRequest=E}),d=s._writer;return d!==void 0&&s._backpressure&&o==="writable"&&Ds(d),Rf(s._writableStreamController),u}function lf(s){return m((u,d)=>{let y={_resolve:u,_reject:d};s._writeRequests.push(y)})}function As(s,o){if(s._state==="writable"){Cs(s,o);return}vs(s)}function Cs(s,o){let u=s._writableStreamController;s._state="erroring",s._storedError=o;let d=s._writer;d!==void 0&&$o(d,o),!df(s)&&u._started&&vs(s)}function vs(s){s._state="errored",s._writableStreamController[Ke]();let o=s._storedError;if(s._writeRequests.forEach(y=>{y._reject(o)}),s._writeRequests=new Q,s._pendingAbortRequest===void 0){un(s);return}let u=s._pendingAbortRequest;if(s._pendingAbortRequest=void 0,u._wasAlreadyErroring){u._reject(o),un(s);return}let d=s._writableStreamController[ge](u._reason);S(d,()=>{u._resolve(),un(s)},y=>{u._reject(y),un(s)})}function uf(s){s._inFlightWriteRequest._resolve(void 0),s._inFlightWriteRequest=void 0}function cf(s,o){s._inFlightWriteRequest._reject(o),s._inFlightWriteRequest=void 0,As(s,o)}function hf(s){s._inFlightCloseRequest._resolve(void 0),s._inFlightCloseRequest=void 0,s._state==="erroring"&&(s._storedError=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._resolve(),s._pendingAbortRequest=void 0)),s._state="closed";let u=s._writer;u!==void 0&&qo(u)}function ff(s,o){s._inFlightCloseRequest._reject(o),s._inFlightCloseRequest=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._reject(o),s._pendingAbortRequest=void 0),As(s,o)}function He(s){return!(s._closeRequest===void 0&&s._inFlightCloseRequest===void 0)}function df(s){return!(s._inFlightWriteRequest===void 0&&s._inFlightCloseRequest===void 0)}function pf(s){s._inFlightCloseRequest=s._closeRequest,s._closeRequest=void 0}function mf(s){s._inFlightWriteRequest=s._writeRequests.shift()}function un(s){s._closeRequest!==void 0&&(s._closeRequest._reject(s._storedError),s._closeRequest=void 0);let o=s._writer;o!==void 0&&Ls(o,s._storedError)}function xs(s,o){let u=s._writer;u!==void 0&&o!==s._backpressure&&(o?xf(u):Ds(u)),s._backpressure=o}class _r{constructor(o){if(Me(o,1,"WritableStreamDefaultWriter"),Co(o,"First parameter"),$t(o))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=o,o._writer=this;let u=o._state;if(u==="writable")!He(o)&&o._backpressure?pn(this):Uo(this),dn(this);else if(u==="erroring")Ns(this,o._storedError),dn(this);else if(u==="closed")Uo(this),Cf(this);else{let d=o._storedError;Ns(this,d),Fo(this,d)}}get closed(){return dt(this)?this._closedPromise:p(pt("closed"))}get desiredSize(){if(!dt(this))throw pt("desiredSize");if(this._ownerWritableStream===void 0)throw wr("desiredSize");return _f(this)}get ready(){return dt(this)?this._readyPromise:p(pt("ready"))}abort(o=void 0){return dt(this)?this._ownerWritableStream===void 0?p(wr("abort")):gf(this,o):p(pt("abort"))}close(){if(!dt(this))return p(pt("close"));let o=this._ownerWritableStream;return o===void 0?p(wr("close")):He(o)?p(new TypeError("Cannot close an already-closing stream")):Io(this)}releaseLock(){if(!dt(this))throw pt("releaseLock");this._ownerWritableStream!==void 0&&Po(this)}write(o=void 0){return dt(this)?this._ownerWritableStream===void 0?p(wr("write to")):Lo(this,o):p(pt("write"))}}Object.defineProperties(_r.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(_r.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function dt(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_ownerWritableStream")?!1:s instanceof _r}function gf(s,o){let u=s._ownerWritableStream;return ln(u,o)}function Io(s){let o=s._ownerWritableStream;return Oo(o)}function bf(s){let o=s._ownerWritableStream,u=o._state;return He(o)||u==="closed"?g(void 0):u==="errored"?p(o._storedError):Io(s)}function yf(s,o){s._closedPromiseState==="pending"?Ls(s,o):vf(s,o)}function $o(s,o){s._readyPromiseState==="pending"?Wo(s,o):Of(s,o)}function _f(s){let o=s._ownerWritableStream,u=o._state;return u==="errored"||u==="erroring"?null:u==="closed"?0:Ho(o._writableStreamController)}function Po(s){let o=s._ownerWritableStream,u=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");$o(s,u),yf(s,u),o._writer=void 0,s._ownerWritableStream=void 0}function Lo(s,o){let u=s._ownerWritableStream,d=u._writableStreamController,y=Sf(d,o);if(u!==s._ownerWritableStream)return p(wr("write to"));let R=u._state;if(R==="errored")return p(u._storedError);if(He(u)||R==="closed")return p(new TypeError("The stream is closing or closed and cannot be written to"));if(R==="erroring")return p(u._storedError);let E=lf(u);return Ef(d,o,y),E}let No={};class Pt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Os(this))throw Ps("abortReason");return this._abortReason}get signal(){if(!Os(this))throw Ps("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(o=void 0){if(!Os(this))throw Ps("error");this._controlledWritableStream._state==="writable"&&Bo(this,o)}[ge](o){let u=this._abortAlgorithm(o);return cn(this),u}[Ke](){Ze(this)}}Object.defineProperties(Pt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Pt.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Os(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledWritableStream")?!1:s instanceof Pt}function Do(s,o,u,d,y,R,E,$){o._controlledWritableStream=s,s._writableStreamController=o,o._queue=void 0,o._queueTotalSize=void 0,Ze(o),o._abortReason=void 0,o._abortController=of(),o._started=!1,o._strategySizeAlgorithm=$,o._strategyHWM=E,o._writeAlgorithm=d,o._closeAlgorithm=y,o._abortAlgorithm=R;let B=$s(o);xs(s,B);let U=u(),M=g(U);S(M,()=>{o._started=!0,hn(o)},z=>{o._started=!0,As(s,z)})}function wf(s,o,u,d){let y=Object.create(Pt.prototype),R=()=>{},E=()=>g(void 0),$=()=>g(void 0),B=()=>g(void 0);o.start!==void 0&&(R=()=>o.start(y)),o.write!==void 0&&(E=U=>o.write(U,y)),o.close!==void 0&&($=()=>o.close()),o.abort!==void 0&&(B=U=>o.abort(U)),Do(s,y,R,E,$,B,u,d)}function cn(s){s._writeAlgorithm=void 0,s._closeAlgorithm=void 0,s._abortAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function Rf(s){ys(s,No,0),hn(s)}function Sf(s,o){try{return s._strategySizeAlgorithm(o)}catch(u){return Is(s,u),1}}function Ho(s){return s._strategyHWM-s._queueTotalSize}function Ef(s,o,u){try{ys(s,o,u)}catch(y){Is(s,y);return}let d=s._controlledWritableStream;if(!He(d)&&d._state==="writable"){let y=$s(s);xs(d,y)}hn(s)}function hn(s){let o=s._controlledWritableStream;if(!s._started||o._inFlightWriteRequest!==void 0)return;if(o._state==="erroring"){vs(o);return}if(s._queue.length===0)return;let d=zh(s);d===No?Tf(s):Af(s,d)}function Is(s,o){s._controlledWritableStream._state==="writable"&&Bo(s,o)}function Tf(s){let o=s._controlledWritableStream;pf(o),bs(s);let u=s._closeAlgorithm();cn(s),S(u,()=>{hf(o)},d=>{ff(o,d)})}function Af(s,o){let u=s._controlledWritableStream;mf(u);let d=s._writeAlgorithm(o);S(d,()=>{uf(u);let y=u._state;if(bs(s),!He(u)&&y==="writable"){let R=$s(s);xs(u,R)}hn(s)},y=>{u._state==="writable"&&cn(s),cf(u,y)})}function $s(s){return Ho(s)<=0}function Bo(s,o){let u=s._controlledWritableStream;cn(s),Cs(u,o)}function fn(s){return new TypeError(`WritableStream.prototype.${s} can only be used on a WritableStream`)}function Ps(s){return new TypeError(`WritableStreamDefaultController.prototype.${s} can only be used on a WritableStreamDefaultController`)}function pt(s){return new TypeError(`WritableStreamDefaultWriter.prototype.${s} can only be used on a WritableStreamDefaultWriter`)}function wr(s){return new TypeError("Cannot "+s+" a stream using a released writer")}function dn(s){s._closedPromise=m((o,u)=>{s._closedPromise_resolve=o,s._closedPromise_reject=u,s._closedPromiseState="pending"})}function Fo(s,o){dn(s),Ls(s,o)}function Cf(s){dn(s),qo(s)}function Ls(s,o){s._closedPromise_reject!==void 0&&(x(s._closedPromise),s._closedPromise_reject(o),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="rejected")}function vf(s,o){Fo(s,o)}function qo(s){s._closedPromise_resolve!==void 0&&(s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="resolved")}function pn(s){s._readyPromise=m((o,u)=>{s._readyPromise_resolve=o,s._readyPromise_reject=u}),s._readyPromiseState="pending"}function Ns(s,o){pn(s),Wo(s,o)}function Uo(s){pn(s),Ds(s)}function Wo(s,o){s._readyPromise_reject!==void 0&&(x(s._readyPromise),s._readyPromise_reject(o),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="rejected")}function xf(s){pn(s)}function Of(s,o){Ns(s,o)}function Ds(s){s._readyPromise_resolve!==void 0&&(s._readyPromise_resolve(void 0),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="fulfilled")}let Mo=typeof DOMException<"u"?DOMException:void 0;function If(s){if(!(typeof s=="function"||typeof s=="object"))return!1;try{return new s,!0}catch{return!1}}function $f(){let s=function(u,d){this.message=u||"",this.name=d||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return s.prototype=Object.create(Error.prototype),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,configurable:!0}),s}let Pf=If(Mo)?Mo:$f();function zo(s,o,u,d,y,R){let E=xt(s),$=vo(o);s._disturbed=!0;let B=!1,U=g(void 0);return m((M,z)=>{let ee;if(R!==void 0){if(ee=()=>{let N=new Pf("Aborted","AbortError"),q=[];d||q.push(()=>o._state==="writable"?ln(o,N):g(void 0)),y||q.push(()=>s._state==="readable"?$e(s,N):g(void 0)),fe(()=>Promise.all(q.map(V=>V())),!0,N)},R.aborted){ee();return}R.addEventListener("abort",ee)}function Pe(){return m((N,q)=>{function V(be){be?N():_(Dt(),V,q)}V(!1)})}function Dt(){return B?g(!0):_($._readyPromise,()=>m((N,q)=>{hr(E,{_chunkSteps:V=>{U=_(Lo($,V),void 0,r),N(!1)},_closeSteps:()=>N(!0),_errorSteps:q})}))}if(ze(s,E._closedPromise,N=>{d?Se(!0,N):fe(()=>ln(o,N),!0,N)}),ze(o,$._closedPromise,N=>{y?Se(!0,N):fe(()=>$e(s,N),!0,N)}),le(s,E._closedPromise,()=>{u?Se():fe(()=>bf($))}),He(o)||o._state==="closed"){let N=new TypeError("the destination writable stream closed before all data could be piped to it");y?Se(!0,N):fe(()=>$e(s,N),!0,N)}x(Pe());function nt(){let N=U;return _(U,()=>N!==U?nt():void 0)}function ze(N,q,V){N._state==="errored"?V(N._storedError):w(q,V)}function le(N,q,V){N._state==="closed"?V():A(q,V)}function fe(N,q,V){if(B)return;B=!0,o._state==="writable"&&!He(o)?A(nt(),be):be();function be(){S(N(),()=>je(q,V),Ht=>je(!0,Ht))}}function Se(N,q){B||(B=!0,o._state==="writable"&&!He(o)?A(nt(),()=>je(N,q)):je(N,q))}function je(N,q){Po($),we(E),R!==void 0&&R.removeEventListener("abort",ee),N?z(q):M(void 0)}})}class Lt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!mn(this))throw yn("desiredSize");return Hs(this)}close(){if(!mn(this))throw yn("close");if(!Nt(this))throw new TypeError("The stream is not in a state that permits close");Sr(this)}enqueue(o=void 0){if(!mn(this))throw yn("enqueue");if(!Nt(this))throw new TypeError("The stream is not in a state that permits enqueue");return bn(this,o)}error(o=void 0){if(!mn(this))throw yn("error");Je(this,o)}[ut](o){Ze(this);let u=this._cancelAlgorithm(o);return gn(this),u}[We](o){let u=this._controlledReadableStream;if(this._queue.length>0){let d=bs(this);this._closeRequested&&this._queue.length===0?(gn(this),Er(u)):Rr(this),o._chunkSteps(d)}else to(u,o),Rr(this)}}Object.defineProperties(Lt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function mn(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableStream")?!1:s instanceof Lt}function Rr(s){if(!jo(s))return;if(s._pulling){s._pullAgain=!0;return}s._pulling=!0;let u=s._pullAlgorithm();S(u,()=>{s._pulling=!1,s._pullAgain&&(s._pullAgain=!1,Rr(s))},d=>{Je(s,d)})}function jo(s){let o=s._controlledReadableStream;return!Nt(s)||!s._started?!1:!!(rt(o)&&Qr(o)>0||Hs(s)>0)}function gn(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function Sr(s){if(!Nt(s))return;let o=s._controlledReadableStream;s._closeRequested=!0,s._queue.length===0&&(gn(s),Er(o))}function bn(s,o){if(!Nt(s))return;let u=s._controlledReadableStream;if(rt(u)&&Qr(u)>0)gs(u,o,!1);else{let d;try{d=s._strategySizeAlgorithm(o)}catch(y){throw Je(s,y),y}try{ys(s,o,d)}catch(y){throw Je(s,y),y}}Rr(s)}function Je(s,o){let u=s._controlledReadableStream;u._state==="readable"&&(Ze(s),gn(s),Yo(u,o))}function Hs(s){let o=s._controlledReadableStream._state;return o==="errored"?null:o==="closed"?0:s._strategyHWM-s._queueTotalSize}function Lf(s){return!jo(s)}function Nt(s){let o=s._controlledReadableStream._state;return!s._closeRequested&&o==="readable"}function ko(s,o,u,d,y,R,E){o._controlledReadableStream=s,o._queue=void 0,o._queueTotalSize=void 0,Ze(o),o._started=!1,o._closeRequested=!1,o._pullAgain=!1,o._pulling=!1,o._strategySizeAlgorithm=E,o._strategyHWM=R,o._pullAlgorithm=d,o._cancelAlgorithm=y,s._readableStreamController=o;let $=u();S(g($),()=>{o._started=!0,Rr(o)},B=>{Je(o,B)})}function Nf(s,o,u,d){let y=Object.create(Lt.prototype),R=()=>{},E=()=>g(void 0),$=()=>g(void 0);o.start!==void 0&&(R=()=>o.start(y)),o.pull!==void 0&&(E=()=>o.pull(y)),o.cancel!==void 0&&($=B=>o.cancel(B)),ko(s,y,R,E,$,u,d)}function yn(s){return new TypeError(`ReadableStreamDefaultController.prototype.${s} can only be used on a ReadableStreamDefaultController`)}function Df(s,o){return ct(s._readableStreamController)?Bf(s):Hf(s)}function Hf(s,o){let u=xt(s),d=!1,y=!1,R=!1,E=!1,$,B,U,M,z,ee=m(le=>{z=le});function Pe(){return d?(y=!0,g(void 0)):(d=!0,hr(u,{_chunkSteps:fe=>{T(()=>{y=!1;let Se=fe,je=fe;R||bn(U._readableStreamController,Se),E||bn(M._readableStreamController,je),d=!1,y&&Pe()})},_closeSteps:()=>{d=!1,R||Sr(U._readableStreamController),E||Sr(M._readableStreamController),(!R||!E)&&z(void 0)},_errorSteps:()=>{d=!1}}),g(void 0))}function Dt(le){if(R=!0,$=le,E){let fe=fr([$,B]),Se=$e(s,fe);z(Se)}return ee}function nt(le){if(E=!0,B=le,R){let fe=fr([$,B]),Se=$e(s,fe);z(Se)}return ee}function ze(){}return U=Bs(ze,Pe,Dt),M=Bs(ze,Pe,nt),w(u._closedPromise,le=>{Je(U._readableStreamController,le),Je(M._readableStreamController,le),(!R||!E)&&z(void 0)}),[U,M]}function Bf(s){let o=xt(s),u=!1,d=!1,y=!1,R=!1,E=!1,$,B,U,M,z,ee=m(N=>{z=N});function Pe(N){w(N._closedPromise,q=>{N===o&&(Ie(U._readableStreamController,q),Ie(M._readableStreamController,q),(!R||!E)&&z(void 0))})}function Dt(){ft(o)&&(we(o),o=xt(s),Pe(o)),hr(o,{_chunkSteps:q=>{T(()=>{d=!1,y=!1;let V=q,be=q;if(!R&&!E)try{be=ho(q)}catch(Ht){Ie(U._readableStreamController,Ht),Ie(M._readableStreamController,Ht),z($e(s,Ht));return}R||tn(U._readableStreamController,V),E||tn(M._readableStreamController,be),u=!1,d?ze():y&&le()})},_closeSteps:()=>{u=!1,R||pr(U._readableStreamController),E||pr(M._readableStreamController),U._readableStreamController._pendingPullIntos.length>0&&rn(U._readableStreamController,0),M._readableStreamController._pendingPullIntos.length>0&&rn(M._readableStreamController,0),(!R||!E)&&z(void 0)},_errorSteps:()=>{u=!1}})}function nt(N,q){Xe(o)&&(we(o),o=So(s),Pe(o));let V=q?M:U,be=q?U:M;Ao(o,N,{_chunkSteps:Bt=>{T(()=>{d=!1,y=!1;let Ft=q?E:R;if(q?R:E)Ft||nn(V._readableStreamController,Bt);else{let aa;try{aa=ho(Bt)}catch(qs){Ie(V._readableStreamController,qs),Ie(be._readableStreamController,qs),z($e(s,qs));return}Ft||nn(V._readableStreamController,Bt),tn(be._readableStreamController,aa)}u=!1,d?ze():y&&le()})},_closeSteps:Bt=>{u=!1;let Ft=q?E:R,vn=q?R:E;Ft||pr(V._readableStreamController),vn||pr(be._readableStreamController),Bt!==void 0&&(Ft||nn(V._readableStreamController,Bt),!vn&&be._readableStreamController._pendingPullIntos.length>0&&rn(be._readableStreamController,0)),(!Ft||!vn)&&z(void 0)},_errorSteps:()=>{u=!1}})}function ze(){if(u)return d=!0,g(void 0);u=!0;let N=Ss(U._readableStreamController);return N===null?Dt():nt(N._view,!1),g(void 0)}function le(){if(u)return y=!0,g(void 0);u=!0;let N=Ss(M._readableStreamController);return N===null?Dt():nt(N._view,!0),g(void 0)}function fe(N){if(R=!0,$=N,E){let q=fr([$,B]),V=$e(s,q);z(V)}return ee}function Se(N){if(E=!0,B=N,R){let q=fr([$,B]),V=$e(s,q);z(V)}return ee}function je(){}return U=Vo(je,ze,fe),M=Vo(je,le,Se),Pe(o),[U,M]}function Ff(s,o){oe(s,o);let u=s,d=u==null?void 0:u.autoAllocateChunkSize,y=u==null?void 0:u.cancel,R=u==null?void 0:u.pull,E=u==null?void 0:u.start,$=u==null?void 0:u.type;return{autoAllocateChunkSize:d===void 0?void 0:eo(d,`${o} has member 'autoAllocateChunkSize' that`),cancel:y===void 0?void 0:qf(y,u,`${o} has member 'cancel' that`),pull:R===void 0?void 0:Uf(R,u,`${o} has member 'pull' that`),start:E===void 0?void 0:Wf(E,u,`${o} has member 'start' that`),type:$===void 0?void 0:Mf($,`${o} has member 'type' that`)}}function qf(s,o,u){return he(s,u),d=>D(s,o,[d])}function Uf(s,o,u){return he(s,u),d=>D(s,o,[d])}function Wf(s,o,u){return he(s,u),d=>I(s,o,[d])}function Mf(s,o){if(s=`${s}`,s!=="bytes")throw new TypeError(`${o} '${s}' is not a valid enumeration value for ReadableStreamType`);return s}function zf(s,o){oe(s,o);let u=s==null?void 0:s.mode;return{mode:u===void 0?void 0:jf(u,`${o} has member 'mode' that`)}}function jf(s,o){if(s=`${s}`,s!=="byob")throw new TypeError(`${o} '${s}' is not a valid enumeration value for ReadableStreamReaderMode`);return s}function kf(s,o){return oe(s,o),{preventCancel:!!(s==null?void 0:s.preventCancel)}}function Go(s,o){oe(s,o);let u=s==null?void 0:s.preventAbort,d=s==null?void 0:s.preventCancel,y=s==null?void 0:s.preventClose,R=s==null?void 0:s.signal;return R!==void 0&&Gf(R,`${o} has member 'signal' that`),{preventAbort:!!u,preventCancel:!!d,preventClose:!!y,signal:R}}function Gf(s,o){if(!nf(s))throw new TypeError(`${o} is not an AbortSignal.`)}function Vf(s,o){oe(s,o);let u=s==null?void 0:s.readable;ds(u,"readable","ReadableWritablePair"),ms(u,`${o} has member 'readable' that`);let d=s==null?void 0:s.writable;return ds(d,"writable","ReadableWritablePair"),Co(d,`${o} has member 'writable' that`),{readable:u,writable:d}}class et{constructor(o={},u={}){o===void 0?o=null:Zi(o,"First parameter");let d=an(u,"Second parameter"),y=Ff(o,"First parameter");if(Fs(this),y.type==="bytes"){if(d.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let R=br(d,0);Yh(this,y,R)}else{let R=on(d),E=br(d,1);Nf(this,y,E,R)}}get locked(){if(!tt(this))throw mt("locked");return rt(this)}cancel(o=void 0){return tt(this)?rt(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):$e(this,o):p(mt("cancel"))}getReader(o=void 0){if(!tt(this))throw mt("getReader");return zf(o,"First parameter").mode===void 0?xt(this):So(this)}pipeThrough(o,u={}){if(!tt(this))throw mt("pipeThrough");Me(o,1,"pipeThrough");let d=Vf(o,"First parameter"),y=Go(u,"Second parameter");if(rt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if($t(d.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let R=zo(this,d.writable,y.preventClose,y.preventAbort,y.preventCancel,y.signal);return x(R),d.readable}pipeTo(o,u={}){if(!tt(this))return p(mt("pipeTo"));if(o===void 0)return p("Parameter 1 is required in 'pipeTo'.");if(!It(o))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let d;try{d=Go(u,"Second parameter")}catch(y){return p(y)}return rt(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):$t(o)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):zo(this,o,d.preventClose,d.preventAbort,d.preventCancel,d.signal)}tee(){if(!tt(this))throw mt("tee");let o=Df(this);return fr(o)}values(o=void 0){if(!tt(this))throw mt("values");let u=kf(o,"First parameter");return Wh(this,u.preventCancel)}}Object.defineProperties(et.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(et.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),typeof e.asyncIterator=="symbol"&&Object.defineProperty(et.prototype,e.asyncIterator,{value:et.prototype.values,writable:!0,configurable:!0});function Bs(s,o,u,d=1,y=()=>1){let R=Object.create(et.prototype);Fs(R);let E=Object.create(Lt.prototype);return ko(R,E,s,o,u,d,y),R}function Vo(s,o,u){let d=Object.create(et.prototype);Fs(d);let y=Object.create(Ot.prototype);return Ro(d,y,s,o,u,0,void 0),d}function Fs(s){s._state="readable",s._reader=void 0,s._storedError=void 0,s._disturbed=!1}function tt(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_readableStreamController")?!1:s instanceof et}function rt(s){return s._reader!==void 0}function $e(s,o){if(s._disturbed=!0,s._state==="closed")return g(void 0);if(s._state==="errored")return p(s._storedError);Er(s);let u=s._reader;u!==void 0&&ft(u)&&(u._readIntoRequests.forEach(y=>{y._closeSteps(void 0)}),u._readIntoRequests=new Q);let d=s._readableStreamController[ut](o);return O(d,r)}function Er(s){s._state="closed";let o=s._reader;o!==void 0&&(Z(o),Xe(o)&&(o._readRequests.forEach(u=>{u._closeSteps()}),o._readRequests=new Q))}function Yo(s,o){s._state="errored",s._storedError=o;let u=s._reader;u!==void 0&&(v(u,o),Xe(u)?(u._readRequests.forEach(d=>{d._errorSteps(o)}),u._readRequests=new Q):(u._readIntoRequests.forEach(d=>{d._errorSteps(o)}),u._readIntoRequests=new Q))}function mt(s){return new TypeError(`ReadableStream.prototype.${s} can only be used on a ReadableStream`)}function Qo(s,o){oe(s,o);let u=s==null?void 0:s.highWaterMark;return ds(u,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ps(u)}}let Ko=s=>s.byteLength;try{Object.defineProperty(Ko,"name",{value:"size",configurable:!0})}catch{}class _n{constructor(o){Me(o,1,"ByteLengthQueuingStrategy"),o=Qo(o,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!Zo(this))throw Xo("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Zo(this))throw Xo("size");return Ko}}Object.defineProperties(_n.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(_n.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Xo(s){return new TypeError(`ByteLengthQueuingStrategy.prototype.${s} can only be used on a ByteLengthQueuingStrategy`)}function Zo(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_byteLengthQueuingStrategyHighWaterMark")?!1:s instanceof _n}let Jo=()=>1;try{Object.defineProperty(Jo,"name",{value:"size",configurable:!0})}catch{}class wn{constructor(o){Me(o,1,"CountQueuingStrategy"),o=Qo(o,"First parameter"),this._countQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!ta(this))throw ea("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ta(this))throw ea("size");return Jo}}Object.defineProperties(wn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(wn.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function ea(s){return new TypeError(`CountQueuingStrategy.prototype.${s} can only be used on a CountQueuingStrategy`)}function ta(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_countQueuingStrategyHighWaterMark")?!1:s instanceof wn}function Yf(s,o){oe(s,o);let u=s==null?void 0:s.flush,d=s==null?void 0:s.readableType,y=s==null?void 0:s.start,R=s==null?void 0:s.transform,E=s==null?void 0:s.writableType;return{flush:u===void 0?void 0:Qf(u,s,`${o} has member 'flush' that`),readableType:d,start:y===void 0?void 0:Kf(y,s,`${o} has member 'start' that`),transform:R===void 0?void 0:Xf(R,s,`${o} has member 'transform' that`),writableType:E}}function Qf(s,o,u){return he(s,u),d=>D(s,o,[d])}function Kf(s,o,u){return he(s,u),d=>I(s,o,[d])}function Xf(s,o,u){return he(s,u),(d,y)=>D(s,o,[d,y])}class Rn{constructor(o={},u={},d={}){o===void 0&&(o=null);let y=an(u,"Second parameter"),R=an(d,"Third parameter"),E=Yf(o,"First parameter");if(E.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(E.writableType!==void 0)throw new RangeError("Invalid writableType specified");let $=br(R,0),B=on(R),U=br(y,1),M=on(y),z,ee=m(Pe=>{z=Pe});Zf(this,ee,U,M,$,B),ed(this,E),E.start!==void 0?z(E.start(this._transformStreamController)):z(void 0)}get readable(){if(!ra(this))throw oa("readable");return this._readable}get writable(){if(!ra(this))throw oa("writable");return this._writable}}Object.defineProperties(Rn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Rn.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});function Zf(s,o,u,d,y,R){function E(){return o}function $(ee){return nd(s,ee)}function B(ee){return sd(s,ee)}function U(){return id(s)}s._writable=af(E,$,U,B,u,d);function M(){return od(s)}function z(ee){return En(s,ee),g(void 0)}s._readable=Bs(E,M,z,y,R),s._backpressure=void 0,s._backpressureChangePromise=void 0,s._backpressureChangePromise_resolve=void 0,Tn(s,!0),s._transformStreamController=void 0}function ra(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_transformStreamController")?!1:s instanceof Rn}function Sn(s,o){Je(s._readable._readableStreamController,o),En(s,o)}function En(s,o){na(s._transformStreamController),Is(s._writable._writableStreamController,o),s._backpressure&&Tn(s,!1)}function Tn(s,o){s._backpressureChangePromise!==void 0&&s._backpressureChangePromise_resolve(),s._backpressureChangePromise=m(u=>{s._backpressureChangePromise_resolve=u}),s._backpressure=o}class Tr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!An(this))throw Cn("desiredSize");let o=this._controlledTransformStream._readable._readableStreamController;return Hs(o)}enqueue(o=void 0){if(!An(this))throw Cn("enqueue");sa(this,o)}error(o=void 0){if(!An(this))throw Cn("error");td(this,o)}terminate(){if(!An(this))throw Cn("terminate");rd(this)}}Object.defineProperties(Tr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Tr.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function An(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledTransformStream")?!1:s instanceof Tr}function Jf(s,o,u,d){o._controlledTransformStream=s,s._transformStreamController=o,o._transformAlgorithm=u,o._flushAlgorithm=d}function ed(s,o){let u=Object.create(Tr.prototype),d=R=>{try{return sa(u,R),g(void 0)}catch(E){return p(E)}},y=()=>g(void 0);o.transform!==void 0&&(d=R=>o.transform(R,u)),o.flush!==void 0&&(y=()=>o.flush(u)),Jf(s,u,d,y)}function na(s){s._transformAlgorithm=void 0,s._flushAlgorithm=void 0}function sa(s,o){let u=s._controlledTransformStream,d=u._readable._readableStreamController;if(!Nt(d))throw new TypeError("Readable side is not in a state that permits enqueue");try{bn(d,o)}catch(R){throw En(u,R),u._readable._storedError}Lf(d)!==u._backpressure&&Tn(u,!0)}function td(s,o){Sn(s._controlledTransformStream,o)}function ia(s,o){let u=s._transformAlgorithm(o);return O(u,void 0,d=>{throw Sn(s._controlledTransformStream,d),d})}function rd(s){let o=s._controlledTransformStream,u=o._readable._readableStreamController;Sr(u);let d=new TypeError("TransformStream terminated");En(o,d)}function nd(s,o){let u=s._transformStreamController;if(s._backpressure){let d=s._backpressureChangePromise;return O(d,()=>{let y=s._writable;if(y._state==="erroring")throw y._storedError;return ia(u,o)})}return ia(u,o)}function sd(s,o){return Sn(s,o),g(void 0)}function id(s){let o=s._readable,u=s._transformStreamController,d=u._flushAlgorithm();return na(u),O(d,()=>{if(o._state==="errored")throw o._storedError;Sr(o._readableStreamController)},y=>{throw Sn(s,y),o._storedError})}function od(s){return Tn(s,!1),s._backpressureChangePromise}function Cn(s){return new TypeError(`TransformStreamDefaultController.prototype.${s} can only be used on a TransformStreamDefaultController`)}function oa(s){return new TypeError(`TransformStream.prototype.${s} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=_n,t.CountQueuingStrategy=wn,t.ReadableByteStreamController=Ot,t.ReadableStream=et,t.ReadableStreamBYOBReader=gr,t.ReadableStreamBYOBRequest=dr,t.ReadableStreamDefaultController=Lt,t.ReadableStreamDefaultReader=cr,t.TransformStream=Rn,t.TransformStreamDefaultController=Tr,t.WritableStream=yr,t.WritableStreamDefaultController=Pt,t.WritableStreamDefaultWriter=_r,Object.defineProperty(t,"__esModule",{value:!0})})});var Ea=C(()=>{if(!globalThis.ReadableStream)try{let t=ye("node:process"),{emitWarning:e}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,ye("node:stream/web")),t.emitWarning=e}catch(r){throw t.emitWarning=e,r}}catch{Object.assign(globalThis,Sa())}try{let{Blob:t}=ye("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(r){let n=0,i=this;return new ReadableStream({type:"bytes",async pull(a){let c=await i.slice(n,Math.min(i.size,n+65536)).arrayBuffer();n+=c.byteLength,a.enqueue(new Uint8Array(c)),n===i.size&&a.close()}})})}catch{}});async function*Ks(t,e=!0){for(let r of t)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(e){let n=r.byteOffset,i=r.byteOffset+r.byteLength;for(;n!==i;){let a=Math.min(i-n,Ta),l=r.buffer.slice(n,n+a);n+=l.byteLength,yield new Uint8Array(l)}}else yield r;else{let n=0,i=r;for(;n!==i.size;){let l=await i.slice(n,Math.min(i.size,n+Ta)).arrayBuffer();n+=l.byteLength,yield new Uint8Array(l)}}}var Oy,Ta,Aa,Td,ke,vr=Ar(()=>{Oy=Le(Ea(),1);Ta=65536;Aa=class Xs{#e=[];#n="";#r=0;#d="transparent";constructor(e=[],r={}){if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let n=new TextEncoder;for(let a of e){let l;ArrayBuffer.isView(a)?l=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?l=new Uint8Array(a.slice(0)):a instanceof Xs?l=a:l=n.encode(`${a}`),this.#r+=ArrayBuffer.isView(l)?l.byteLength:l.size,this.#e.push(l)}this.#d=`${r.endings===void 0?"transparent":r.endings}`;let i=r.type===void 0?"":String(r.type);this.#n=/^[\x20-\x7E]*$/.test(i)?i:""}get size(){return this.#r}get type(){return this.#n}async text(){let e=new TextDecoder,r="";for await(let n of Ks(this.#e,!1))r+=e.decode(n,{stream:!0});return r+=e.decode(),r}async arrayBuffer(){let e=new Uint8Array(this.size),r=0;for await(let n of Ks(this.#e,!1))e.set(n,r),r+=n.length;return e.buffer}stream(){let e=Ks(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let n=await e.next();n.done?r.close():r.enqueue(n.value)},async cancel(){await e.return()}})}slice(e=0,r=this.size,n=""){let{size:i}=this,a=e<0?Math.max(i+e,0):Math.min(e,i),l=r<0?Math.max(i+r,0):Math.min(r,i),c=Math.max(l-a,0),h=this.#e,f=[],b=0;for(let g of h){if(b>=c)break;let p=ArrayBuffer.isView(g)?g.byteLength:g.size;if(a&&p<=a)a-=p,l-=p;else{let _;ArrayBuffer.isView(g)?(_=g.subarray(a,Math.min(p,l)),b+=_.byteLength):(_=g.slice(a,Math.min(p,l)),b+=_.size),l-=p,f.push(_),a=0}}let m=new Xs([],{type:String(n).toLowerCase()});return m.#r=c,m.#e=f,m}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(Aa.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Td=Aa,ke=Td});var Ad,Cd,Ut,Zs=Ar(()=>{vr();Ad=class extends ke{#e=0;#n="";constructor(e,r,n={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,n),n===null&&(n={});let i=n.lastModified===void 0?Date.now():Number(n.lastModified);Number.isNaN(i)||(this.#e=i),this.#n=String(r)}get name(){return this.#n}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof ke&&/^(File)$/.test(e[Symbol.toStringTag])}},Cd=Ad,Ut=Cd});function xa(t,e=ke){var r=`${Ca()}${Ca()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],i=`--${r}\r
Content-Disposition: form-data; name="`;return t.forEach((a,l)=>typeof a=="string"?n.push(i+Js(l)+`"\r
\r
${a.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):n.push(i+Js(l)+`"; filename="${Js(a.name,1)}"\r
Content-Type: ${a.type||"application/octet-stream"}\r
\r
`,a,`\r
`)),n.push(`--${r}--`),new e(n,{type:"multipart/form-data; boundary="+r})}var xr,vd,xd,Ca,Od,va,Js,gt,bt,On=Ar(()=>{vr();Zs();({toStringTag:xr,iterator:vd,hasInstance:xd}=Symbol),Ca=Math.random,Od="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),va=(t,e,r)=>(t+="",/^(Blob|File)$/.test(e&&e[xr])?[(r=r!==void 0?r+"":e[xr]=="File"?e.name:"blob",t),e.name!==r||e[xr]=="blob"?new Ut([e],r,e):e]:[t,e+""]),Js=(t,e)=>(e?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),gt=(t,e,r)=>{if(e.length<r)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${r} arguments required, but only ${e.length} present.`)},bt=class{#e=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[xr](){return"FormData"}[vd](){return this.entries()}static[xd](e){return e&&typeof e=="object"&&e[xr]==="FormData"&&!Od.some(r=>typeof e[r]!="function")}append(...e){gt("append",arguments,2),this.#e.push(va(...e))}delete(e){gt("delete",arguments,1),e+="",this.#e=this.#e.filter(([r])=>r!==e)}get(e){gt("get",arguments,1),e+="";for(var r=this.#e,n=r.length,i=0;i<n;i++)if(r[i][0]===e)return r[i][1];return null}getAll(e,r){return gt("getAll",arguments,1),r=[],e+="",this.#e.forEach(n=>n[0]===e&&r.push(n[1])),r}has(e){return gt("has",arguments,1),e+="",this.#e.some(r=>r[0]===e)}forEach(e,r){gt("forEach",arguments,1);for(var[n,i]of this)e.call(r,i,n,this)}set(...e){gt("set",arguments,2);var r=[],n=!0;e=va(...e),this.#e.forEach(i=>{i[0]===e[0]?n&&(n=!r.push(e)):r.push(i)}),n&&r.push(e),this.#e=r}*entries(){yield*this.#e}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}}});var La=C((My,Pa)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=ye("worker_threads"),e=new t().port1,r=new ArrayBuffer;e.postMessage(r,[r,r])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}Pa.exports=globalThis.DOMException});import{statSync as jy,createReadStream as Id,promises as $d}from"node:fs";var Da,Pd,Na,ti=Ar(()=>{Da=Le(La(),1);Zs();vr();({stat:Pd}=$d),Na=class t{#e;#n;constructor(e){this.#e=e.path,this.#n=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,r){return new t({path:this.#e,lastModified:this.lastModified,size:r-e,start:this.#n+e})}async*stream(){let{mtimeMs:e}=await Pd(this.#e);if(e>this.lastModified)throw new Da.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*Id(this.#e,{start:this.#n,end:this.#n+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Ba={};fd(Ba,{toFormData:()=>qd});function Fd(t){let e=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let r=e[2]||e[3]||"",n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,(i,a)=>String.fromCharCode(a)),n}async function qd(t,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let r=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let n=new ri(r[1]||r[2]),i,a,l,c,h,f,b=[],m=new bt,g=w=>{l+=A.decode(w,{stream:!0})},p=w=>{b.push(w)},_=()=>{let w=new Ut(b,f,{type:h});m.append(c,w)},S=()=>{m.append(c,l)},A=new TextDecoder("utf-8");A.decode(),n.onPartBegin=function(){n.onPartData=g,n.onPartEnd=S,i="",a="",l="",c="",h="",f=null,b.length=0},n.onHeaderField=function(w){i+=A.decode(w,{stream:!0})},n.onHeaderValue=function(w){a+=A.decode(w,{stream:!0})},n.onHeaderEnd=function(){if(a+=A.decode(),i=i.toLowerCase(),i==="content-disposition"){let w=a.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);w&&(c=w[2]||w[3]||""),f=Fd(a),f&&(n.onPartData=p,n.onPartEnd=_)}else i==="content-type"&&(h=a);a="",i=""};for await(let w of t)n.write(w);return n.end(),m}var Be,Y,Ha,st,$n,Pn,Ld,Ir,Nd,Dd,Hd,Bd,yt,ri,Fa=Ar(()=>{ti();On();Be=0,Y={START_BOUNDARY:Be++,HEADER_FIELD_START:Be++,HEADER_FIELD:Be++,HEADER_VALUE_START:Be++,HEADER_VALUE:Be++,HEADER_VALUE_ALMOST_DONE:Be++,HEADERS_ALMOST_DONE:Be++,PART_DATA_START:Be++,PART_DATA:Be++,END:Be++},Ha=1,st={PART_BOUNDARY:Ha,LAST_BOUNDARY:Ha*=2},$n=10,Pn=13,Ld=32,Ir=45,Nd=58,Dd=97,Hd=122,Bd=t=>t|32,yt=()=>{},ri=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=yt,this.onHeaderField=yt,this.onHeadersEnd=yt,this.onHeaderValue=yt,this.onPartBegin=yt,this.onPartData=yt,this.onPartEnd=yt,this.boundaryChars={},e=`\r
--`+e;let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n),this.boundaryChars[r[n]]=!0;this.boundary=r,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=Y.START_BOUNDARY}write(e){let r=0,n=e.length,i=this.index,{lookbehind:a,boundary:l,boundaryChars:c,index:h,state:f,flags:b}=this,m=this.boundary.length,g=m-1,p=e.length,_,S,A=T=>{this[T+"Mark"]=r},w=T=>{delete this[T+"Mark"]},O=(T,I,D,H)=>{(I===void 0||I!==D)&&this[T](H&&H.subarray(I,D))},x=(T,I)=>{let D=T+"Mark";D in this&&(I?(O(T,this[D],r,e),delete this[D]):(O(T,this[D],e.length,e),this[D]=0))};for(r=0;r<n;r++)switch(_=e[r],f){case Y.START_BOUNDARY:if(h===l.length-2){if(_===Ir)b|=st.LAST_BOUNDARY;else if(_!==Pn)return;h++;break}else if(h-1===l.length-2){if(b&st.LAST_BOUNDARY&&_===Ir)f=Y.END,b=0;else if(!(b&st.LAST_BOUNDARY)&&_===$n)h=0,O("onPartBegin"),f=Y.HEADER_FIELD_START;else return;break}_!==l[h+2]&&(h=-2),_===l[h+2]&&h++;break;case Y.HEADER_FIELD_START:f=Y.HEADER_FIELD,A("onHeaderField"),h=0;case Y.HEADER_FIELD:if(_===Pn){w("onHeaderField"),f=Y.HEADERS_ALMOST_DONE;break}if(h++,_===Ir)break;if(_===Nd){if(h===1)return;x("onHeaderField",!0),f=Y.HEADER_VALUE_START;break}if(S=Bd(_),S<Dd||S>Hd)return;break;case Y.HEADER_VALUE_START:if(_===Ld)break;A("onHeaderValue"),f=Y.HEADER_VALUE;case Y.HEADER_VALUE:_===Pn&&(x("onHeaderValue",!0),O("onHeaderEnd"),f=Y.HEADER_VALUE_ALMOST_DONE);break;case Y.HEADER_VALUE_ALMOST_DONE:if(_!==$n)return;f=Y.HEADER_FIELD_START;break;case Y.HEADERS_ALMOST_DONE:if(_!==$n)return;O("onHeadersEnd"),f=Y.PART_DATA_START;break;case Y.PART_DATA_START:f=Y.PART_DATA,A("onPartData");case Y.PART_DATA:if(i=h,h===0){for(r+=g;r<p&&!(e[r]in c);)r+=m;r-=g,_=e[r]}if(h<l.length)l[h]===_?(h===0&&x("onPartData",!0),h++):h=0;else if(h===l.length)h++,_===Pn?b|=st.PART_BOUNDARY:_===Ir?b|=st.LAST_BOUNDARY:h=0;else if(h-1===l.length)if(b&st.PART_BOUNDARY){if(h=0,_===$n){b&=~st.PART_BOUNDARY,O("onPartEnd"),O("onPartBegin"),f=Y.HEADER_FIELD_START;break}}else b&st.LAST_BOUNDARY&&_===Ir?(O("onPartEnd"),f=Y.END,b=0):h=0;if(h>0)a[h-1]=_;else if(i>0){let T=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);O("onPartData",0,i,T),i=0,A("onPartData"),r--}break;case Y.END:break;default:throw new Error(`Unexpected state entered: ${f}`)}x("onHeaderField"),x("onHeaderValue"),x("onPartData"),this.index=h,this.state=f,this.flags=b}end(){if(this.state===Y.HEADER_FIELD_START&&this.index===0||this.state===Y.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==Y.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var rl=C((Y_,tl)=>{function Jd(t){return Buffer.from(t,"base64").toString("utf8")}function ep(t){return Buffer.from(t,"utf8").toString("base64")}tl.exports={decodeBase64:Jd,encodeBase64:ep}});var ol=C(wt=>{wt.parse=wt.decode=tp;wt.stringify=wt.encode=nl;wt.safe=kt;wt.unsafe=Un;var oi=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`;function nl(t,e){var r=[],n="";typeof e=="string"?e={section:e,whitespace:!1}:(e=e||{},e.whitespace=e.whitespace===!0);var i=e.whitespace?" = ":"=";return Object.keys(t).forEach(function(a,l,c){var h=t[a];h&&Array.isArray(h)?h.forEach(function(f){n+=kt(a+"[]")+i+kt(f)+`
`}):h&&typeof h=="object"?r.push(a):n+=kt(a)+i+kt(h)+oi}),e.section&&n.length&&(n="["+kt(e.section)+"]"+oi+n),r.forEach(function(a,l,c){var h=sl(a).join("\\."),f=(e.section?e.section+".":"")+h,b=nl(t[a],{section:f,whitespace:e.whitespace});n.length&&b.length&&(n+=oi),n+=b}),n}function sl(t){return t.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(function(e){return e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")})}function tp(t){var e={},r=e,n=null,i=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,a=t.split(/[\r\n]+/g);return a.forEach(function(l,c,h){if(!(!l||l.match(/^\s*[;#]/))){var f=l.match(i);if(f){if(f[1]!==void 0){if(n=Un(f[1]),n==="__proto__"){r={};return}r=e[n]=e[n]||{};return}var b=Un(f[2]);if(b!=="__proto__"){var m=f[3]?Un(f[4]):!0;switch(m){case"true":case"false":case"null":m=JSON.parse(m)}if(b.length>2&&b.slice(-2)==="[]"){if(b=b.substring(0,b.length-2),b==="__proto__")return;r[b]?Array.isArray(r[b])||(r[b]=[r[b]]):r[b]=[]}Array.isArray(r[b])?r[b].push(m):r[b]=m}}}}),Object.keys(e).filter(function(l,c,h){if(!e[l]||typeof e[l]!="object"||Array.isArray(e[l]))return!1;var f=sl(l),b=e,m=f.pop(),g=m.replace(/\\\./g,".");return f.forEach(function(p,_,S){p!=="__proto__"&&((!b[p]||typeof b[p]!="object")&&(b[p]={}),b=b[p])}),b===e&&g===m?!1:(b[g]=e[l],!0)}).forEach(function(l,c,h){delete e[l]}),e}function il(t){return t.charAt(0)==='"'&&t.slice(-1)==='"'||t.charAt(0)==="'"&&t.slice(-1)==="'"}function kt(t){return typeof t!="string"||t.match(/[=\r\n]/)||t.match(/^\[/)||t.length>1&&il(t)||t!==t.trim()?JSON.stringify(t):t.replace(/;/g,"\\;").replace(/#/g,"\\#")}function Un(t,e){if(t=(t||"").trim(),il(t)){t.charAt(0)==="'"&&(t=t.substr(1,t.length-2));try{t=JSON.parse(t)}catch{}}else{for(var r=!1,n="",i=0,a=t.length;i<a;i++){var l=t.charAt(i);if(r)"\\;#".indexOf(l)!==-1?n+=l:n+="\\"+l,r=!1;else{if(";#".indexOf(l)!==-1)break;l==="\\"?r=!0:n+=l}}return r&&(n+="\\"),n.trim()}return t}});var ul=C((K_,ll)=>{"use strict";var ai=1,al=2;function rp(){return""}function np(t,e,r){return t.slice(e,r).replace(/\S/g," ")}ll.exports=function(t,e){e=e||{};for(var r,n,i=!1,a=!1,l=0,c="",h=e.whitespace===!1?rp:np,f=0;f<t.length;f++){if(r=t[f],n=t[f+1],!a&&r==='"'){var b=t[f-1]==="\\"&&t[f-2]!=="\\";b||(i=!i)}if(!i){if(!a&&r+n==="//")c+=t.slice(l,f),l=f,a=ai,f++;else if(a===ai&&r+n===`\r
`){f++,a=!1,c+=h(t,l,f),l=f;continue}else if(a===ai&&r===`
`)a=!1,c+=h(t,l,f),l=f;else if(!a&&r+n==="/*"){c+=t.slice(l,f),l=f,a=al,f++;continue}else if(a===al&&r+n==="*/"){f++,a=!1,c+=h(t,l,f+1),l=f+1;continue}}}return c+(a?h(t.substr(l)):t.substr(l))}});var hl=C(Gt=>{"use strict";var cl=ye("fs"),sp=ol(),Pr=ye("path"),ip=ul(),op=Gt.parse=function(t){return/^\s*{/.test(t)?JSON.parse(ip(t)):sp.parse(t)},ap=Gt.file=function(){var t=[].slice.call(arguments).filter(function(i){return i!=null});for(var e in t)if(typeof t[e]!="string")return;var r=Pr.join.apply(null,t),n;try{return cl.readFileSync(r,"utf-8")}catch{return}},X_=Gt.json=function(){var t=ap.apply(null,arguments);return t?op(t):null},Z_=Gt.env=function(t,e){e=e||process.env;var r={},n=t.length;for(var i in e)if(i.toLowerCase().indexOf(t.toLowerCase())===0){for(var a=i.substring(n).split("__"),l;(l=a.indexOf(""))>-1;)a.splice(l,1);var c=r;a.forEach(function(f,b){!f||typeof c!="object"||(b===a.length-1&&(c[f]=e[i]),c[f]===void 0&&(c[f]={}),c=c[f])})}return r},J_=Gt.find=function(){var t=Pr.join.apply(null,[].slice.call(arguments));function e(r,n){var i=Pr.join(r,n);try{return cl.statSync(i),i}catch{if(Pr.dirname(r)!==r)return e(Pr.dirname(r),n)}}return e(process.cwd(),t)}});var bl=C((tw,gl)=>{"use strict";function dl(t){return t instanceof Buffer||t instanceof Date||t instanceof RegExp}function pl(t){if(t instanceof Buffer){var e=Buffer.alloc?Buffer.alloc(t.length):new Buffer(t.length);return t.copy(e),e}else{if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}}function ml(t){var e=[];return t.forEach(function(r,n){typeof r=="object"&&r!==null?Array.isArray(r)?e[n]=ml(r):dl(r)?e[n]=pl(r):e[n]=li({},r):e[n]=r}),e}function fl(t,e){return e==="__proto__"?void 0:t[e]}var li=gl.exports=function(){if(arguments.length<1||typeof arguments[0]!="object")return!1;if(arguments.length<2)return arguments[0];var t=arguments[0],e=Array.prototype.slice.call(arguments,1),r,n,i;return e.forEach(function(a){typeof a!="object"||a===null||Array.isArray(a)||Object.keys(a).forEach(function(l){if(n=fl(t,l),r=fl(a,l),r!==t)if(typeof r!="object"||r===null){t[l]=r;return}else if(Array.isArray(r)){t[l]=ml(r);return}else if(dl(r)){t[l]=pl(r);return}else if(typeof n!="object"||n===null||Array.isArray(n)){t[l]=li({},r);return}else{t[l]=li(n,r);return}})}),t}});var ui=C((rw,wl)=>{var Lr=hl(),Vt=ye("path").join,lp=bl(),yl="/etc",_l=process.platform==="win32",Nr=_l?process.env.USERPROFILE:process.env.HOME;wl.exports=function(t,e,r,n){if(typeof t!="string")throw new Error("rc(name): name *must* be string");r||(r=Qs()(process.argv.slice(2))),e=(typeof e=="string"?Lr.json(e):e)||{},n=n||Lr.parse;var i=Lr.env(t+"_"),a=[e],l=[];function c(h){if(!(l.indexOf(h)>=0)){var f=Lr.file(h);f&&(a.push(n(f)),l.push(h))}}return _l||[Vt(yl,t,"config"),Vt(yl,t+"rc")].forEach(c),Nr&&[Vt(Nr,".config",t,"config"),Vt(Nr,".config",t),Vt(Nr,"."+t,"config"),Vt(Nr,"."+t+"rc")].forEach(c),c(Lr.find("."+t+"rc")),i.config&&c(i.config),r.config&&c(r.config),lp.apply(null,a.concat([i,r,l.length?{configs:l,config:l[l.length-1]}:void 0]))}});var xl=C((nw,vl)=>{var ci=ye("url"),Al=rl(),up=Al.decodeBase64,cp=Al.encodeBase64,Rl=":_authToken",Sl=":_auth",El=":username",Tl=":_password";vl.exports=function(){var t,e;return arguments.length>=2?(t=arguments[0],e=arguments[1]):typeof arguments[0]=="string"?t=arguments[0]:e=arguments[0],e=e||{},e.npmrc=e.npmrc||ui()("npm",{registry:"https://registry.npmjs.org/"},{config:process.env.npm_config_userconfig||process.env.NPM_CONFIG_USERCONFIG}),t=t||e.npmrc.registry,Cl(t,e)||hp(e.npmrc)};function Cl(t,e){for(var r=ci.parse(t,!1,!0),n;n!=="/"&&r.pathname!==n;){n=r.pathname||"/";var i="//"+r.host+n.replace(/\/$/,""),a=dp(i,e.npmrc);if(a)return a;if(!e.recursive)return/\/$/.test(t)?void 0:Cl(ci.resolve(t,"."),e);r.pathname=ci.resolve(fp(n),"..")||"/"}}function hp(t){if(t._auth){var e=Wn(t._auth);return{token:e,type:"Basic"}}}function fp(t){return t[t.length-1]==="/"?t:t+"/"}function dp(t,e){var r=pp(e[t+Rl]||e[t+"/"+Rl]);if(r)return r;var n=e[t+El]||e[t+"/"+El],i=e[t+Tl]||e[t+"/"+Tl],a=mp(n,i);if(a)return a;var l=gp(e[t+Sl]||e[t+"/"+Sl]);if(l)return l}function Wn(t){return t.replace(/^\$\{?([^}]*)\}?$/,function(e,r){return process.env[r]})}function pp(t){if(t){var e=Wn(t);return{token:e,type:"Bearer"}}}function mp(t,e){if(!(!t||!e)){var r=up(Wn(e)),n=cp(t+":"+r);return{token:n,type:"Basic",password:r,username:t}}}function gp(t){if(t){var e=Wn(t);return{token:e,type:"Basic"}}}});var Dr=C((sw,Ol)=>{var bp="2.0.0",yp=Number.MAX_SAFE_INTEGER||9007199254740991,_p=16;Ol.exports={SEMVER_SPEC_VERSION:bp,MAX_LENGTH:256,MAX_SAFE_INTEGER:yp,MAX_SAFE_COMPONENT_LENGTH:_p}});var Hr=C((iw,Il)=>{var wp=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Il.exports=wp});var Rt=C((ot,$l)=>{var{MAX_SAFE_COMPONENT_LENGTH:hi}=Dr(),Rp=Hr();ot=$l.exports={};var Sp=ot.re=[],P=ot.src=[],L=ot.t={},Ep=0,F=(t,e,r)=>{let n=Ep++;Rp(t,n,e),L[t]=n,P[n]=e,Sp[n]=new RegExp(e,r?"g":void 0)};F("NUMERICIDENTIFIER","0|[1-9]\\d*");F("NUMERICIDENTIFIERLOOSE","[0-9]+");F("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");F("MAINVERSION",`(${P[L.NUMERICIDENTIFIER]})\\.(${P[L.NUMERICIDENTIFIER]})\\.(${P[L.NUMERICIDENTIFIER]})`);F("MAINVERSIONLOOSE",`(${P[L.NUMERICIDENTIFIERLOOSE]})\\.(${P[L.NUMERICIDENTIFIERLOOSE]})\\.(${P[L.NUMERICIDENTIFIERLOOSE]})`);F("PRERELEASEIDENTIFIER",`(?:${P[L.NUMERICIDENTIFIER]}|${P[L.NONNUMERICIDENTIFIER]})`);F("PRERELEASEIDENTIFIERLOOSE",`(?:${P[L.NUMERICIDENTIFIERLOOSE]}|${P[L.NONNUMERICIDENTIFIER]})`);F("PRERELEASE",`(?:-(${P[L.PRERELEASEIDENTIFIER]}(?:\\.${P[L.PRERELEASEIDENTIFIER]})*))`);F("PRERELEASELOOSE",`(?:-?(${P[L.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${P[L.PRERELEASEIDENTIFIERLOOSE]})*))`);F("BUILDIDENTIFIER","[0-9A-Za-z-]+");F("BUILD",`(?:\\+(${P[L.BUILDIDENTIFIER]}(?:\\.${P[L.BUILDIDENTIFIER]})*))`);F("FULLPLAIN",`v?${P[L.MAINVERSION]}${P[L.PRERELEASE]}?${P[L.BUILD]}?`);F("FULL",`^${P[L.FULLPLAIN]}$`);F("LOOSEPLAIN",`[v=\\s]*${P[L.MAINVERSIONLOOSE]}${P[L.PRERELEASELOOSE]}?${P[L.BUILD]}?`);F("LOOSE",`^${P[L.LOOSEPLAIN]}$`);F("GTLT","((?:<|>)?=?)");F("XRANGEIDENTIFIERLOOSE",`${P[L.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);F("XRANGEIDENTIFIER",`${P[L.NUMERICIDENTIFIER]}|x|X|\\*`);F("XRANGEPLAIN",`[v=\\s]*(${P[L.XRANGEIDENTIFIER]})(?:\\.(${P[L.XRANGEIDENTIFIER]})(?:\\.(${P[L.XRANGEIDENTIFIER]})(?:${P[L.PRERELEASE]})?${P[L.BUILD]}?)?)?`);F("XRANGEPLAINLOOSE",`[v=\\s]*(${P[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${P[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${P[L.XRANGEIDENTIFIERLOOSE]})(?:${P[L.PRERELEASELOOSE]})?${P[L.BUILD]}?)?)?`);F("XRANGE",`^${P[L.GTLT]}\\s*${P[L.XRANGEPLAIN]}$`);F("XRANGELOOSE",`^${P[L.GTLT]}\\s*${P[L.XRANGEPLAINLOOSE]}$`);F("COERCE",`(^|[^\\d])(\\d{1,${hi}})(?:\\.(\\d{1,${hi}}))?(?:\\.(\\d{1,${hi}}))?(?:$|[^\\d])`);F("COERCERTL",P[L.COERCE],!0);F("LONETILDE","(?:~>?)");F("TILDETRIM",`(\\s*)${P[L.LONETILDE]}\\s+`,!0);ot.tildeTrimReplace="$1~";F("TILDE",`^${P[L.LONETILDE]}${P[L.XRANGEPLAIN]}$`);F("TILDELOOSE",`^${P[L.LONETILDE]}${P[L.XRANGEPLAINLOOSE]}$`);F("LONECARET","(?:\\^)");F("CARETTRIM",`(\\s*)${P[L.LONECARET]}\\s+`,!0);ot.caretTrimReplace="$1^";F("CARET",`^${P[L.LONECARET]}${P[L.XRANGEPLAIN]}$`);F("CARETLOOSE",`^${P[L.LONECARET]}${P[L.XRANGEPLAINLOOSE]}$`);F("COMPARATORLOOSE",`^${P[L.GTLT]}\\s*(${P[L.LOOSEPLAIN]})$|^$`);F("COMPARATOR",`^${P[L.GTLT]}\\s*(${P[L.FULLPLAIN]})$|^$`);F("COMPARATORTRIM",`(\\s*)${P[L.GTLT]}\\s*(${P[L.LOOSEPLAIN]}|${P[L.XRANGEPLAIN]})`,!0);ot.comparatorTrimReplace="$1$2$3";F("HYPHENRANGE",`^\\s*(${P[L.XRANGEPLAIN]})\\s+-\\s+(${P[L.XRANGEPLAIN]})\\s*$`);F("HYPHENRANGELOOSE",`^\\s*(${P[L.XRANGEPLAINLOOSE]})\\s+-\\s+(${P[L.XRANGEPLAINLOOSE]})\\s*$`);F("STAR","(<|>)?=?\\s*\\*");F("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");F("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Br=C((ow,Pl)=>{var Tp=["includePrerelease","loose","rtl"],Ap=t=>t?typeof t!="object"?{loose:!0}:Tp.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};Pl.exports=Ap});var fi=C((aw,Dl)=>{var Ll=/^[0-9]+$/,Nl=(t,e)=>{let r=Ll.test(t),n=Ll.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Cp=(t,e)=>Nl(e,t);Dl.exports={compareIdentifiers:Nl,rcompareIdentifiers:Cp}});var ae=C((lw,ql)=>{var Mn=Hr(),{MAX_LENGTH:Hl,MAX_SAFE_INTEGER:zn}=Dr(),{re:Bl,t:Fl}=Rt(),vp=Br(),{compareIdentifiers:Yt}=fi(),di=class t{constructor(e,r){if(r=vp(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Hl)throw new TypeError(`version is longer than ${Hl} characters`);Mn("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Bl[Fl.LOOSE]:Bl[Fl.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>zn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>zn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>zn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let a=+i;if(a>=0&&a<zn)return a}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Mn("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Yt(this.major,e.major)||Yt(this.minor,e.minor)||Yt(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Mn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Yt(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Mn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Yt(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(Yt(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};ql.exports=di});var St=C((uw,zl)=>{var{MAX_LENGTH:xp}=Dr(),{re:Ul,t:Wl}=Rt(),Ml=ae(),Op=Br(),Ip=(t,e)=>{if(e=Op(e),t instanceof Ml)return t;if(typeof t!="string"||t.length>xp||!(e.loose?Ul[Wl.LOOSE]:Ul[Wl.FULL]).test(t))return null;try{return new Ml(t,e)}catch{return null}};zl.exports=Ip});var kl=C((cw,jl)=>{var $p=St(),Pp=(t,e)=>{let r=$p(t,e);return r?r.version:null};jl.exports=Pp});var Vl=C((hw,Gl)=>{var Lp=St(),Np=(t,e)=>{let r=Lp(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Gl.exports=Np});var Kl=C((fw,Ql)=>{var Yl=ae(),Dp=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new Yl(t instanceof Yl?t.version:t,r).inc(e,n).version}catch{return null}};Ql.exports=Dp});var Ae=C((dw,Zl)=>{var Xl=ae(),Hp=(t,e,r)=>new Xl(t,r).compare(new Xl(e,r));Zl.exports=Hp});var jn=C((pw,Jl)=>{var Bp=Ae(),Fp=(t,e,r)=>Bp(t,e,r)===0;Jl.exports=Fp});var ru=C((mw,tu)=>{var eu=St(),qp=jn(),Up=(t,e)=>{if(qp(t,e))return null;{let r=eu(t),n=eu(e),i=r.prerelease.length||n.prerelease.length,a=i?"pre":"",l=i?"prerelease":"";for(let c in r)if((c==="major"||c==="minor"||c==="patch")&&r[c]!==n[c])return a+c;return l}};tu.exports=Up});var su=C((gw,nu)=>{var Wp=ae(),Mp=(t,e)=>new Wp(t,e).major;nu.exports=Mp});var ou=C((bw,iu)=>{var zp=ae(),jp=(t,e)=>new zp(t,e).minor;iu.exports=jp});var lu=C((yw,au)=>{var kp=ae(),Gp=(t,e)=>new kp(t,e).patch;au.exports=Gp});var cu=C((_w,uu)=>{var Vp=St(),Yp=(t,e)=>{let r=Vp(t,e);return r&&r.prerelease.length?r.prerelease:null};uu.exports=Yp});var fu=C((ww,hu)=>{var Qp=Ae(),Kp=(t,e,r)=>Qp(e,t,r);hu.exports=Kp});var pu=C((Rw,du)=>{var Xp=Ae(),Zp=(t,e)=>Xp(t,e,!0);du.exports=Zp});var kn=C((Sw,gu)=>{var mu=ae(),Jp=(t,e,r)=>{let n=new mu(t,r),i=new mu(e,r);return n.compare(i)||n.compareBuild(i)};gu.exports=Jp});var yu=C((Ew,bu)=>{var em=kn(),tm=(t,e)=>t.sort((r,n)=>em(r,n,e));bu.exports=tm});var wu=C((Tw,_u)=>{var rm=kn(),nm=(t,e)=>t.sort((r,n)=>rm(n,r,e));_u.exports=nm});var Fr=C((Aw,Ru)=>{var sm=Ae(),im=(t,e,r)=>sm(t,e,r)>0;Ru.exports=im});var Gn=C((Cw,Su)=>{var om=Ae(),am=(t,e,r)=>om(t,e,r)<0;Su.exports=am});var pi=C((vw,Eu)=>{var lm=Ae(),um=(t,e,r)=>lm(t,e,r)!==0;Eu.exports=um});var Vn=C((xw,Tu)=>{var cm=Ae(),hm=(t,e,r)=>cm(t,e,r)>=0;Tu.exports=hm});var Yn=C((Ow,Au)=>{var fm=Ae(),dm=(t,e,r)=>fm(t,e,r)<=0;Au.exports=dm});var mi=C((Iw,Cu)=>{var pm=jn(),mm=pi(),gm=Fr(),bm=Vn(),ym=Gn(),_m=Yn(),wm=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return pm(t,r,n);case"!=":return mm(t,r,n);case">":return gm(t,r,n);case">=":return bm(t,r,n);case"<":return ym(t,r,n);case"<=":return _m(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Cu.exports=wm});var xu=C(($w,vu)=>{var Rm=ae(),Sm=St(),{re:Qn,t:Kn}=Rt(),Em=(t,e)=>{if(t instanceof Rm)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Qn[Kn.COERCE]);else{let n;for(;(n=Qn[Kn.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Qn[Kn.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Qn[Kn.COERCERTL].lastIndex=-1}return r===null?null:Sm(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};vu.exports=Em});var Iu=C((Pw,Ou)=>{"use strict";Ou.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Pu=C((Lw,$u)=>{"use strict";$u.exports=j;j.Node=Et;j.create=j;function j(t){var e=this;if(e instanceof j||(e=new j),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}j.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};j.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};j.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};j.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Am(this,arguments[t]);return this.length};j.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Cm(this,arguments[t]);return this.length};j.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};j.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};j.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};j.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};j.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};j.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};j.prototype.map=function(t,e){e=e||this;for(var r=new j,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};j.prototype.mapReverse=function(t,e){e=e||this;for(var r=new j,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};j.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};j.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};j.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};j.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};j.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new j;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};j.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new j;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};j.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var a=[],n=0;i&&n<e;n++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Tm(this,i,r[n]);return a};j.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Tm(t,e,r){var n=e===t.head?new Et(r,null,e,t):new Et(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Am(t,e){t.tail=new Et(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Cm(t,e){t.head=new Et(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Et(t,e,r,n){if(!(this instanceof Et))return new Et(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Iu()(j)}catch{}});var Bu=C((Nw,Hu)=>{"use strict";var vm=Pu(),Tt=Symbol("max"),Ye=Symbol("length"),Qt=Symbol("lengthCalculator"),Ur=Symbol("allowStale"),At=Symbol("maxAge"),Ve=Symbol("dispose"),Lu=Symbol("noDisposeOnSet"),ie=Symbol("lruList"),De=Symbol("cache"),Du=Symbol("updateAgeOnGet"),gi=()=>1,yi=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Tt]=e.max||1/0,n=e.length||gi;if(this[Qt]=typeof n!="function"?gi:n,this[Ur]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[At]=e.maxAge||0,this[Ve]=e.dispose,this[Lu]=e.noDisposeOnSet||!1,this[Du]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Tt]=e||1/0,qr(this)}get max(){return this[Tt]}set allowStale(e){this[Ur]=!!e}get allowStale(){return this[Ur]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[At]=e,qr(this)}get maxAge(){return this[At]}set lengthCalculator(e){typeof e!="function"&&(e=gi),e!==this[Qt]&&(this[Qt]=e,this[Ye]=0,this[ie].forEach(r=>{r.length=this[Qt](r.value,r.key),this[Ye]+=r.length})),qr(this)}get lengthCalculator(){return this[Qt]}get length(){return this[Ye]}get itemCount(){return this[ie].length}rforEach(e,r){r=r||this;for(let n=this[ie].tail;n!==null;){let i=n.prev;Nu(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ie].head;n!==null;){let i=n.next;Nu(this,e,n,r),n=i}}keys(){return this[ie].toArray().map(e=>e.key)}values(){return this[ie].toArray().map(e=>e.value)}reset(){this[Ve]&&this[ie]&&this[ie].length&&this[ie].forEach(e=>this[Ve](e.key,e.value)),this[De]=new Map,this[ie]=new vm,this[Ye]=0}dump(){return this[ie].map(e=>Xn(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ie]}set(e,r,n){if(n=n||this[At],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,a=this[Qt](r,e);if(this[De].has(e)){if(a>this[Tt])return Kt(this,this[De].get(e)),!1;let h=this[De].get(e).value;return this[Ve]&&(this[Lu]||this[Ve](e,h.value)),h.now=i,h.maxAge=n,h.value=r,this[Ye]+=a-h.length,h.length=a,this.get(e),qr(this),!0}let l=new _i(e,r,a,i,n);return l.length>this[Tt]?(this[Ve]&&this[Ve](e,r),!1):(this[Ye]+=l.length,this[ie].unshift(l),this[De].set(e,this[ie].head),qr(this),!0)}has(e){if(!this[De].has(e))return!1;let r=this[De].get(e).value;return!Xn(this,r)}get(e){return bi(this,e,!0)}peek(e){return bi(this,e,!1)}pop(){let e=this[ie].tail;return e?(Kt(this,e),e.value):null}del(e){Kt(this,this[De].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],a=i.e||0;if(a===0)this.set(i.k,i.v);else{let l=a-r;l>0&&this.set(i.k,i.v,l)}}}prune(){this[De].forEach((e,r)=>bi(this,r,!1))}},bi=(t,e,r)=>{let n=t[De].get(e);if(n){let i=n.value;if(Xn(t,i)){if(Kt(t,n),!t[Ur])return}else r&&(t[Du]&&(n.value.now=Date.now()),t[ie].unshiftNode(n));return i.value}},Xn=(t,e)=>{if(!e||!e.maxAge&&!t[At])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[At]&&r>t[At]},qr=t=>{if(t[Ye]>t[Tt])for(let e=t[ie].tail;t[Ye]>t[Tt]&&e!==null;){let r=e.prev;Kt(t,e),e=r}},Kt=(t,e)=>{if(e){let r=e.value;t[Ve]&&t[Ve](r.key,r.value),t[Ye]-=r.length,t[De].delete(r.key),t[ie].removeNode(e)}},_i=class{constructor(e,r,n,i,a){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=a||0}},Nu=(t,e,r,n)=>{let i=r.value;Xn(t,i)&&(Kt(t,r),t[Ur]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};Hu.exports=yi});var Ce=C((Dw,Wu)=>{var wi=class t{constructor(e,r){if(r=Om(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof Ri)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!qu(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Nm(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=Fu.get(n);if(i)return i;let a=this.options.loose,l=a?me[ue.HYPHENRANGELOOSE]:me[ue.HYPHENRANGE];e=e.replace(l,jm(this.options.includePrerelease)),K("hyphen replace",e),e=e.replace(me[ue.COMPARATORTRIM],$m),K("comparator trim",e),e=e.replace(me[ue.TILDETRIM],Pm),e=e.replace(me[ue.CARETTRIM],Lm),e=e.split(/\s+/).join(" ");let c=e.split(" ").map(m=>Dm(m,this.options)).join(" ").split(/\s+/).map(m=>zm(m,this.options));a&&(c=c.filter(m=>(K("loose invalid filter",m,this.options),!!m.match(me[ue.COMPARATORLOOSE])))),K("range list",c);let h=new Map,f=c.map(m=>new Ri(m,this.options));for(let m of f){if(qu(m))return[m];h.set(m.value,m)}h.size>1&&h.has("")&&h.delete("");let b=[...h.values()];return Fu.set(n,b),b}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>Uu(n,r)&&e.set.some(i=>Uu(i,r)&&n.every(a=>i.every(l=>a.intersects(l,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Im(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(km(this.set[r],e,this.options))return!0;return!1}};Wu.exports=wi;var xm=Bu(),Fu=new xm({max:1e3}),Om=Br(),Ri=Wr(),K=Hr(),Im=ae(),{re:me,t:ue,comparatorTrimReplace:$m,tildeTrimReplace:Pm,caretTrimReplace:Lm}=Rt(),qu=t=>t.value==="<0.0.0-0",Nm=t=>t.value==="",Uu=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(a=>i.intersects(a,e)),i=n.pop();return r},Dm=(t,e)=>(K("comp",t,e),t=Fm(t,e),K("caret",t),t=Hm(t,e),K("tildes",t),t=Um(t,e),K("xrange",t),t=Mm(t,e),K("stars",t),t),ce=t=>!t||t.toLowerCase()==="x"||t==="*",Hm=(t,e)=>t.trim().split(/\s+/).map(r=>Bm(r,e)).join(" "),Bm=(t,e)=>{let r=e.loose?me[ue.TILDELOOSE]:me[ue.TILDE];return t.replace(r,(n,i,a,l,c)=>{K("tilde",t,n,i,a,l,c);let h;return ce(i)?h="":ce(a)?h=`>=${i}.0.0 <${+i+1}.0.0-0`:ce(l)?h=`>=${i}.${a}.0 <${i}.${+a+1}.0-0`:c?(K("replaceTilde pr",c),h=`>=${i}.${a}.${l}-${c} <${i}.${+a+1}.0-0`):h=`>=${i}.${a}.${l} <${i}.${+a+1}.0-0`,K("tilde return",h),h})},Fm=(t,e)=>t.trim().split(/\s+/).map(r=>qm(r,e)).join(" "),qm=(t,e)=>{K("caret",t,e);let r=e.loose?me[ue.CARETLOOSE]:me[ue.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,a,l,c,h)=>{K("caret",t,i,a,l,c,h);let f;return ce(a)?f="":ce(l)?f=`>=${a}.0.0${n} <${+a+1}.0.0-0`:ce(c)?a==="0"?f=`>=${a}.${l}.0${n} <${a}.${+l+1}.0-0`:f=`>=${a}.${l}.0${n} <${+a+1}.0.0-0`:h?(K("replaceCaret pr",h),a==="0"?l==="0"?f=`>=${a}.${l}.${c}-${h} <${a}.${l}.${+c+1}-0`:f=`>=${a}.${l}.${c}-${h} <${a}.${+l+1}.0-0`:f=`>=${a}.${l}.${c}-${h} <${+a+1}.0.0-0`):(K("no pr"),a==="0"?l==="0"?f=`>=${a}.${l}.${c}${n} <${a}.${l}.${+c+1}-0`:f=`>=${a}.${l}.${c}${n} <${a}.${+l+1}.0-0`:f=`>=${a}.${l}.${c} <${+a+1}.0.0-0`),K("caret return",f),f})},Um=(t,e)=>(K("replaceXRanges",t,e),t.split(/\s+/).map(r=>Wm(r,e)).join(" ")),Wm=(t,e)=>{t=t.trim();let r=e.loose?me[ue.XRANGELOOSE]:me[ue.XRANGE];return t.replace(r,(n,i,a,l,c,h)=>{K("xRange",t,n,i,a,l,c,h);let f=ce(a),b=f||ce(l),m=b||ce(c),g=m;return i==="="&&g&&(i=""),h=e.includePrerelease?"-0":"",f?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&g?(b&&(l=0),c=0,i===">"?(i=">=",b?(a=+a+1,l=0,c=0):(l=+l+1,c=0)):i==="<="&&(i="<",b?a=+a+1:l=+l+1),i==="<"&&(h="-0"),n=`${i+a}.${l}.${c}${h}`):b?n=`>=${a}.0.0${h} <${+a+1}.0.0-0`:m&&(n=`>=${a}.${l}.0${h} <${a}.${+l+1}.0-0`),K("xRange return",n),n})},Mm=(t,e)=>(K("replaceStars",t,e),t.trim().replace(me[ue.STAR],"")),zm=(t,e)=>(K("replaceGTE0",t,e),t.trim().replace(me[e.includePrerelease?ue.GTE0PRE:ue.GTE0],"")),jm=t=>(e,r,n,i,a,l,c,h,f,b,m,g,p)=>(ce(n)?r="":ce(i)?r=`>=${n}.0.0${t?"-0":""}`:ce(a)?r=`>=${n}.${i}.0${t?"-0":""}`:l?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,ce(f)?h="":ce(b)?h=`<${+f+1}.0.0-0`:ce(m)?h=`<${f}.${+b+1}.0-0`:g?h=`<=${f}.${b}.${m}-${g}`:t?h=`<${f}.${b}.${+m+1}-0`:h=`<=${h}`,`${r} ${h}`.trim()),km=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(K(t[n].semver),t[n].semver!==Ri.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Wr=C((Hw,Gu)=>{var Mr=Symbol("SemVer ANY"),Ti=class t{static get ANY(){return Mr}constructor(e,r){if(r=Gm(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}Ei("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Mr?this.value="":this.value=this.operator+this.semver.version,Ei("comp",this)}parse(e){let r=this.options.loose?Mu[zu.COMPARATORLOOSE]:Mu[zu.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new ju(n[2],this.options.loose):this.semver=Mr}toString(){return this.value}test(e){if(Ei("Comparator.test",e,this.options.loose),this.semver===Mr||e===Mr)return!0;if(typeof e=="string")try{e=new ju(e,this.options)}catch{return!1}return Si(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new ku(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new ku(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),a=this.semver.version===e.semver.version,l=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),c=Si(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),h=Si(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||a&&l||c||h}};Gu.exports=Ti;var Gm=Br(),{re:Mu,t:zu}=Rt(),Si=mi(),Ei=Hr(),ju=ae(),ku=Ce()});var zr=C((Bw,Vu)=>{var Vm=Ce(),Ym=(t,e,r)=>{try{e=new Vm(e,r)}catch{return!1}return e.test(t)};Vu.exports=Ym});var Qu=C((Fw,Yu)=>{var Qm=Ce(),Km=(t,e)=>new Qm(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Yu.exports=Km});var Xu=C((qw,Ku)=>{var Xm=ae(),Zm=Ce(),Jm=(t,e,r)=>{let n=null,i=null,a=null;try{a=new Zm(e,r)}catch{return null}return t.forEach(l=>{a.test(l)&&(!n||i.compare(l)===-1)&&(n=l,i=new Xm(n,r))}),n};Ku.exports=Jm});var Ju=C((Uw,Zu)=>{var eg=ae(),tg=Ce(),rg=(t,e,r)=>{let n=null,i=null,a=null;try{a=new tg(e,r)}catch{return null}return t.forEach(l=>{a.test(l)&&(!n||i.compare(l)===1)&&(n=l,i=new eg(n,r))}),n};Zu.exports=rg});var rc=C((Ww,tc)=>{var Ai=ae(),ng=Ce(),ec=Fr(),sg=(t,e)=>{t=new ng(t,e);let r=new Ai("0.0.0");if(t.test(r)||(r=new Ai("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],a=null;i.forEach(l=>{let c=new Ai(l.semver.version);switch(l.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!a||ec(c,a))&&(a=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),a&&(!r||ec(r,a))&&(r=a)}return r&&t.test(r)?r:null};tc.exports=sg});var sc=C((Mw,nc)=>{var ig=Ce(),og=(t,e)=>{try{return new ig(t,e).range||"*"}catch{return null}};nc.exports=og});var Zn=C((zw,lc)=>{var ag=ae(),ac=Wr(),{ANY:lg}=ac,ug=Ce(),cg=zr(),ic=Fr(),oc=Gn(),hg=Yn(),fg=Vn(),dg=(t,e,r,n)=>{t=new ag(t,n),e=new ug(e,n);let i,a,l,c,h;switch(r){case">":i=ic,a=hg,l=oc,c=">",h=">=";break;case"<":i=oc,a=fg,l=ic,c="<",h="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(cg(t,e,n))return!1;for(let f=0;f<e.set.length;++f){let b=e.set[f],m=null,g=null;if(b.forEach(p=>{p.semver===lg&&(p=new ac(">=0.0.0")),m=m||p,g=g||p,i(p.semver,m.semver,n)?m=p:l(p.semver,g.semver,n)&&(g=p)}),m.operator===c||m.operator===h||(!g.operator||g.operator===c)&&a(t,g.semver))return!1;if(g.operator===h&&l(t,g.semver))return!1}return!0};lc.exports=dg});var cc=C((jw,uc)=>{var pg=Zn(),mg=(t,e,r)=>pg(t,e,">",r);uc.exports=mg});var fc=C((kw,hc)=>{var gg=Zn(),bg=(t,e,r)=>gg(t,e,"<",r);hc.exports=bg});var mc=C((Gw,pc)=>{var dc=Ce(),yg=(t,e,r)=>(t=new dc(t,r),e=new dc(e,r),t.intersects(e));pc.exports=yg});var bc=C((Vw,gc)=>{var _g=zr(),wg=Ae();gc.exports=(t,e,r)=>{let n=[],i=null,a=null,l=t.sort((b,m)=>wg(b,m,r));for(let b of l)_g(b,e,r)?(a=b,i||(i=b)):(a&&n.push([i,a]),a=null,i=null);i&&n.push([i,null]);let c=[];for(let[b,m]of n)b===m?c.push(b):!m&&b===l[0]?c.push("*"):m?b===l[0]?c.push(`<=${m}`):c.push(`${b} - ${m}`):c.push(`>=${b}`);let h=c.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return h.length<f.length?h:e}});var Sc=C((Yw,Rc)=>{var yc=Ce(),Jn=Wr(),{ANY:Ci}=Jn,jr=zr(),vi=Ae(),Rg=(t,e,r={})=>{if(t===e)return!0;t=new yc(t,r),e=new yc(e,r);let n=!1;e:for(let i of t.set){for(let a of e.set){let l=Sg(i,a,r);if(n=n||l!==null,l)continue e}if(n)return!1}return!0},Sg=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Ci){if(e.length===1&&e[0].semver===Ci)return!0;r.includePrerelease?t=[new Jn(">=0.0.0-0")]:t=[new Jn(">=0.0.0")]}if(e.length===1&&e[0].semver===Ci){if(r.includePrerelease)return!0;e=[new Jn(">=0.0.0")]}let n=new Set,i,a;for(let p of t)p.operator===">"||p.operator===">="?i=_c(i,p,r):p.operator==="<"||p.operator==="<="?a=wc(a,p,r):n.add(p.semver);if(n.size>1)return null;let l;if(i&&a){if(l=vi(i.semver,a.semver,r),l>0)return null;if(l===0&&(i.operator!==">="||a.operator!=="<="))return null}for(let p of n){if(i&&!jr(p,String(i),r)||a&&!jr(p,String(a),r))return null;for(let _ of e)if(!jr(p,String(_),r))return!1;return!0}let c,h,f,b,m=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,g=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&a.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let p of e){if(b=b||p.operator===">"||p.operator===">=",f=f||p.operator==="<"||p.operator==="<=",i){if(g&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===g.major&&p.semver.minor===g.minor&&p.semver.patch===g.patch&&(g=!1),p.operator===">"||p.operator===">="){if(c=_c(i,p,r),c===p&&c!==i)return!1}else if(i.operator===">="&&!jr(i.semver,String(p),r))return!1}if(a){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator==="<"||p.operator==="<="){if(h=wc(a,p,r),h===p&&h!==a)return!1}else if(a.operator==="<="&&!jr(a.semver,String(p),r))return!1}if(!p.operator&&(a||i)&&l!==0)return!1}return!(i&&f&&!a&&l!==0||a&&b&&!i&&l!==0||g||m)},_c=(t,e,r)=>{if(!t)return e;let n=vi(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},wc=(t,e,r)=>{if(!t)return e;let n=vi(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Rc.exports=Rg});var Ac=C((Qw,Tc)=>{var xi=Rt(),Eg=Dr(),Tg=ae(),Ec=fi(),Ag=St(),Cg=kl(),vg=Vl(),xg=Kl(),Og=ru(),Ig=su(),$g=ou(),Pg=lu(),Lg=cu(),Ng=Ae(),Dg=fu(),Hg=pu(),Bg=kn(),Fg=yu(),qg=wu(),Ug=Fr(),Wg=Gn(),Mg=jn(),zg=pi(),jg=Vn(),kg=Yn(),Gg=mi(),Vg=xu(),Yg=Wr(),Qg=Ce(),Kg=zr(),Xg=Qu(),Zg=Xu(),Jg=Ju(),eb=rc(),tb=sc(),rb=Zn(),nb=cc(),sb=fc(),ib=mc(),ob=bc(),ab=Sc();Tc.exports={parse:Ag,valid:Cg,clean:vg,inc:xg,diff:Og,major:Ig,minor:$g,patch:Pg,prerelease:Lg,compare:Ng,rcompare:Dg,compareLoose:Hg,compareBuild:Bg,sort:Fg,rsort:qg,gt:Ug,lt:Wg,eq:Mg,neq:zg,gte:jg,lte:kg,cmp:Gg,coerce:Vg,Comparator:Yg,Range:Qg,satisfies:Kg,toComparators:Xg,maxSatisfying:Zg,minSatisfying:Jg,minVersion:eb,validRange:tb,outside:rb,gtr:nb,ltr:sb,intersects:ib,simplifyRange:ob,subset:ab,SemVer:Tg,re:xi.re,src:xi.src,tokens:xi.t,SEMVER_SPEC_VERSION:Eg.SEMVER_SPEC_VERSION,compareIdentifiers:Ec.compareIdentifiers,rcompareIdentifiers:Ec.rcompareIdentifiers}});var Ic=C((Kw,Oc)=>{Oc.exports=function(t,e){e||(e={});var r=e.hsep===void 0?"  ":e.hsep,n=e.align||[],i=e.stringLength||function(h){return String(h).length},a=vc(t,function(h,f){return xc(f,function(b,m){var g=Cc(b);(!h[m]||g>h[m])&&(h[m]=g)}),h},[]),l=es(t,function(h){return es(h,function(f,b){var m=String(f);if(n[b]==="."){var g=Cc(m),p=a[b]+(/\./.test(m)?1:2)-(i(m)-g);return m+Array(p).join(" ")}else return m})}),c=vc(l,function(h,f){return xc(f,function(b,m){var g=i(b);(!h[m]||g>h[m])&&(h[m]=g)}),h},[]);return es(l,function(h){return es(h,function(f,b){var m=c[b]-i(f)||0,g=Array(Math.max(m+1,1)).join(" ");return n[b]==="r"||n[b]==="."?g+f:n[b]==="c"?Array(Math.ceil(m/2+1)).join(" ")+f+Array(Math.floor(m/2+1)).join(" "):f+g}).join(r).replace(/\s+$/,"")}).join(`
`)};function Cc(t){var e=/\.[^.]*$/.exec(t);return e?e.index+1:t.length}function vc(t,e,r){if(t.reduce)return t.reduce(e,r);for(var n=0,i=arguments.length>=3?r:t[n++];n<t.length;n++)e(i,t[n],n);return i}function xc(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e.call(t,t[r],r)}function es(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e.call(t,t[n],n));return r}});var Hc=C(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.LRUCache=void 0;var kr=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Lc=new Set,Oi=typeof process=="object"&&process?process:{},Nc=(t,e,r,n)=>{typeof Oi.emitWarning=="function"?Oi.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},ts=globalThis.AbortController,$c=globalThis.AbortSignal,Pc;if(typeof ts>"u"){$c=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},ts=class{constructor(){e()}signal=new $c;abort(n){var i,a;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let l of this.signal._onabort)l(n);(a=(i=this.signal).onabort)==null||a.call(i,n)}}};let t=((Pc=Oi.env)==null?void 0:Pc.LRU_CACHE_IGNORE_AC_WARNING)!=="1",e=()=>{t&&(t=!1,Nc("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var lb=t=>!Lc.has(t),Jw=Symbol("type"),at=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Dc=t=>at(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Xt:null:null,Xt=class extends Array{constructor(e){super(e),this.fill(0)}},Ii=class t{heap;length;static#e=!1;static create(e){let r=Dc(e);if(!r)return[];t.#e=!0;let n=new t(e,r);return t.#e=!1,n}constructor(e,r){if(!t.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},$i=class t{#e;#n;#r;#d;#O;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#g;#a;#i;#t;#h;#p;#c;#l;#b;#u;#S;#E;#y;#_;#A;#f;static unsafeExposeInternals(e){return{starts:e.#E,ttls:e.#y,sizes:e.#S,keyMap:e.#a,keyList:e.#i,valList:e.#t,next:e.#h,prev:e.#p,get head(){return e.#c},get tail(){return e.#l},free:e.#b,isBackgroundFetch:r=>e.#s(r),backgroundFetch:(r,n,i,a)=>e.#P(r,n,i,a),moveToTail:r=>e.#x(r),indexes:r=>e.#w(r),rindexes:r=>e.#R(r),isStale:r=>e.#m(r)}}get max(){return this.#e}get maxSize(){return this.#n}get calculatedSize(){return this.#g}get size(){return this.#o}get fetchMethod(){return this.#O}get dispose(){return this.#r}get disposeAfter(){return this.#d}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:a,updateAgeOnGet:l,updateAgeOnHas:c,allowStale:h,dispose:f,disposeAfter:b,noDisposeOnSet:m,noUpdateTTL:g,maxSize:p=0,maxEntrySize:_=0,sizeCalculation:S,fetchMethod:A,noDeleteOnFetchRejection:w,noDeleteOnStaleGet:O,allowStaleOnFetchRejection:x,allowStaleOnFetchAbort:T,ignoreFetchAbort:I}=e;if(r!==0&&!at(r))throw new TypeError("max option must be a nonnegative integer");let D=r?Dc(r):Array;if(!D)throw new Error("invalid max value: "+r);if(this.#e=r,this.#n=p,this.maxEntrySize=_||this.#n,this.sizeCalculation=S,this.sizeCalculation){if(!this.#n&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(A!==void 0&&typeof A!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#O=A,this.#A=!!A,this.#a=new Map,this.#i=new Array(r).fill(void 0),this.#t=new Array(r).fill(void 0),this.#h=new D(r),this.#p=new D(r),this.#c=0,this.#l=0,this.#b=Ii.create(r),this.#o=0,this.#g=0,typeof f=="function"&&(this.#r=f),typeof b=="function"?(this.#d=b,this.#u=[]):(this.#d=void 0,this.#u=void 0),this.#_=!!this.#r,this.#f=!!this.#d,this.noDisposeOnSet=!!m,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!w,this.allowStaleOnFetchRejection=!!x,this.allowStaleOnFetchAbort=!!T,this.ignoreFetchAbort=!!I,this.maxEntrySize!==0){if(this.#n!==0&&!at(this.#n))throw new TypeError("maxSize must be a positive integer if specified");if(!at(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#F()}if(this.allowStale=!!h,this.noDeleteOnStaleGet=!!O,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!c,this.ttlResolution=at(i)||i===0?i:1,this.ttlAutopurge=!!a,this.ttl=n||0,this.ttl){if(!at(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#L()}if(this.#e===0&&this.ttl===0&&this.#n===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#n){let H="LRU_CACHE_UNBOUNDED";lb(H)&&(Lc.add(H),Nc("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",H,t))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#L(){let e=new Xt(this.#e),r=new Xt(this.#e);this.#y=e,this.#E=r,this.#N=(a,l,c=kr.now())=>{if(r[a]=l!==0?c:0,e[a]=l,l!==0&&this.ttlAutopurge){let h=setTimeout(()=>{this.#m(a)&&this.delete(this.#i[a])},l+1);h.unref&&h.unref()}},this.#C=a=>{r[a]=e[a]!==0?kr.now():0},this.#T=(a,l)=>{if(e[l]){let c=e[l],h=r[l];a.ttl=c,a.start=h,a.now=n||i();let f=a.now-h;a.remainingTTL=c-f}};let n=0,i=()=>{let a=kr.now();if(this.ttlResolution>0){n=a;let l=setTimeout(()=>n=0,this.ttlResolution);l.unref&&l.unref()}return a};this.getRemainingTTL=a=>{let l=this.#a.get(a);if(l===void 0)return 0;let c=e[l],h=r[l];if(c===0||h===0)return 1/0;let f=(n||i())-h;return c-f},this.#m=a=>e[a]!==0&&r[a]!==0&&(n||i())-r[a]>e[a]}#C=()=>{};#T=()=>{};#N=()=>{};#m=()=>!1;#F(){let e=new Xt(this.#e);this.#g=0,this.#S=e,this.#v=r=>{this.#g-=e[r],e[r]=0},this.#D=(r,n,i,a)=>{if(this.#s(n))return 0;if(!at(i))if(a){if(typeof a!="function")throw new TypeError("sizeCalculation must be a function");if(i=a(n,r),!at(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#I=(r,n,i)=>{if(e[r]=n,this.#n){let a=this.#n-e[r];for(;this.#g>a;)this.#$(!0)}this.#g+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#g)}}#v=e=>{};#I=(e,r,n)=>{};#D=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:e=this.allowStale}={}){if(this.#o)for(let r=this.#l;!(!this.#H(r)||((e||!this.#m(r))&&(yield r),r===this.#c));)r=this.#p[r]}*#R({allowStale:e=this.allowStale}={}){if(this.#o)for(let r=this.#c;!(!this.#H(r)||((e||!this.#m(r))&&(yield r),r===this.#l));)r=this.#h[r]}#H(e){return e!==void 0&&this.#a.get(this.#i[e])===e}*entries(){for(let e of this.#w())this.#t[e]!==void 0&&this.#i[e]!==void 0&&!this.#s(this.#t[e])&&(yield[this.#i[e],this.#t[e]])}*rentries(){for(let e of this.#R())this.#t[e]!==void 0&&this.#i[e]!==void 0&&!this.#s(this.#t[e])&&(yield[this.#i[e],this.#t[e]])}*keys(){for(let e of this.#w()){let r=this.#i[e];r!==void 0&&!this.#s(this.#t[e])&&(yield r)}}*rkeys(){for(let e of this.#R()){let r=this.#i[e];r!==void 0&&!this.#s(this.#t[e])&&(yield r)}}*values(){for(let e of this.#w())this.#t[e]!==void 0&&!this.#s(this.#t[e])&&(yield this.#t[e])}*rvalues(){for(let e of this.#R())this.#t[e]!==void 0&&!this.#s(this.#t[e])&&(yield this.#t[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let n of this.#w()){let i=this.#t[n],a=this.#s(i)?i.__staleWhileFetching:i;if(a!==void 0&&e(a,this.#i[n],this))return this.get(this.#i[n],r)}}forEach(e,r=this){for(let n of this.#w()){let i=this.#t[n],a=this.#s(i)?i.__staleWhileFetching:i;a!==void 0&&e.call(r,a,this.#i[n],this)}}rforEach(e,r=this){for(let n of this.#R()){let i=this.#t[n],a=this.#s(i)?i.__staleWhileFetching:i;a!==void 0&&e.call(r,a,this.#i[n],this)}}purgeStale(){let e=!1;for(let r of this.#R({allowStale:!0}))this.#m(r)&&(this.delete(this.#i[r]),e=!0);return e}dump(){let e=[];for(let r of this.#w({allowStale:!0})){let n=this.#i[r],i=this.#t[r],a=this.#s(i)?i.__staleWhileFetching:i;if(a===void 0||n===void 0)continue;let l={value:a};if(this.#y&&this.#E){l.ttl=this.#y[r];let c=kr.now()-this.#E[r];l.start=Math.floor(Date.now()-c)}this.#S&&(l.size=this.#S[r]),e.unshift([n,l])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=kr.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){var g,p,_,S,A;if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:a,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:h}=n,{noUpdateTTL:f=this.noUpdateTTL}=n,b=this.#D(e,r,n.size||0,c);if(this.maxEntrySize&&b>this.maxEntrySize)return h&&(h.set="miss",h.maxEntrySizeExceeded=!0),this.delete(e),this;let m=this.#o===0?void 0:this.#a.get(e);if(m===void 0)m=this.#o===0?this.#l:this.#b.length!==0?this.#b.pop():this.#o===this.#e?this.#$(!1):this.#o,this.#i[m]=e,this.#t[m]=r,this.#a.set(e,m),this.#h[this.#l]=m,this.#p[m]=this.#l,this.#l=m,this.#o++,this.#I(m,b,h),h&&(h.set="add"),f=!1;else{this.#x(m);let w=this.#t[m];if(r!==w){if(this.#A&&this.#s(w)){w.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:O}=w;O!==void 0&&!l&&(this.#_&&((g=this.#r)==null||g.call(this,O,e,"set")),this.#f&&((p=this.#u)==null||p.push([O,e,"set"])))}else l||(this.#_&&((_=this.#r)==null||_.call(this,w,e,"set")),this.#f&&((S=this.#u)==null||S.push([w,e,"set"])));if(this.#v(m),this.#I(m,b,h),this.#t[m]=r,h){h.set="replace";let O=w&&this.#s(w)?w.__staleWhileFetching:w;O!==void 0&&(h.oldValue=O)}}else h&&(h.set="update")}if(i!==0&&!this.#y&&this.#L(),this.#y&&(f||this.#N(m,i,a),h&&this.#T(h,m)),!l&&this.#f&&this.#u){let w=this.#u,O;for(;O=w==null?void 0:w.shift();)(A=this.#d)==null||A.call(this,...O)}return this}pop(){var e;try{for(;this.#o;){let r=this.#t[this.#c];if(this.#$(!0),this.#s(r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(this.#f&&this.#u){let r=this.#u,n;for(;n=r==null?void 0:r.shift();)(e=this.#d)==null||e.call(this,...n)}}}#$(e){var a,l;let r=this.#c,n=this.#i[r],i=this.#t[r];return this.#A&&this.#s(i)?i.__abortController.abort(new Error("evicted")):(this.#_||this.#f)&&(this.#_&&((a=this.#r)==null||a.call(this,i,n,"evict")),this.#f&&((l=this.#u)==null||l.push([i,n,"evict"]))),this.#v(r),e&&(this.#i[r]=void 0,this.#t[r]=void 0,this.#b.push(r)),this.#o===1?(this.#c=this.#l=0,this.#b.length=0):this.#c=this.#h[r],this.#a.delete(n),this.#o--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,a=this.#a.get(e);if(a!==void 0){let l=this.#t[a];if(this.#s(l)&&l.__staleWhileFetching===void 0)return!1;if(this.#m(a))i&&(i.has="stale",this.#T(i,a));else return n&&this.#C(a),i&&(i.has="hit",this.#T(i,a)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#a.get(e);if(i!==void 0&&(n||!this.#m(i))){let a=this.#t[i];return this.#s(a)?a.__staleWhileFetching:a}}#P(e,r,n,i){let a=r===void 0?void 0:this.#t[r];if(this.#s(a))return a;let l=new ts,{signal:c}=n;c==null||c.addEventListener("abort",()=>l.abort(c.reason),{signal:l.signal});let h={signal:l.signal,options:n,context:i},f=(S,A=!1)=>{let{aborted:w}=l.signal,O=n.ignoreFetchAbort&&S!==void 0;if(n.status&&(w&&!A?(n.status.fetchAborted=!0,n.status.fetchError=l.signal.reason,O&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),w&&!O&&!A)return m(l.signal.reason);let x=p;return this.#t[r]===p&&(S===void 0?x.__staleWhileFetching?this.#t[r]=x.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,S,h.options))),S},b=S=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=S),m(S)),m=S=>{let{aborted:A}=l.signal,w=A&&n.allowStaleOnFetchAbort,O=w||n.allowStaleOnFetchRejection,x=O||n.noDeleteOnFetchRejection,T=p;if(this.#t[r]===p&&(!x||T.__staleWhileFetching===void 0?this.delete(e):w||(this.#t[r]=T.__staleWhileFetching)),O)return n.status&&T.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),T.__staleWhileFetching;if(T.__returned===T)throw S},g=(S,A)=>{var O;let w=(O=this.#O)==null?void 0:O.call(this,e,a,h);w&&w instanceof Promise&&w.then(x=>S(x===void 0?void 0:x),A),l.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(S(void 0),n.allowStaleOnFetchAbort&&(S=x=>f(x,!0)))})};n.status&&(n.status.fetchDispatched=!0);let p=new Promise(g).then(f,b),_=Object.assign(p,{__abortController:l,__staleWhileFetching:a,__returned:void 0});return r===void 0?(this.set(e,_,{...h.options,status:void 0}),r=this.#a.get(e)):this.#t[r]=_,_}#s(e){if(!this.#A)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof ts}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:h=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:m=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:g=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:_=this.allowStaleOnFetchAbort,context:S,forceRefresh:A=!1,status:w,signal:O}=r;if(!this.#A)return w&&(w.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:a,status:w});let x={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:a,ttl:l,noDisposeOnSet:c,size:h,sizeCalculation:f,noUpdateTTL:b,noDeleteOnFetchRejection:m,allowStaleOnFetchRejection:g,allowStaleOnFetchAbort:_,ignoreFetchAbort:p,status:w,signal:O},T=this.#a.get(e);if(T===void 0){w&&(w.fetch="miss");let I=this.#P(e,T,x,S);return I.__returned=I}else{let I=this.#t[T];if(this.#s(I)){let ne=n&&I.__staleWhileFetching!==void 0;return w&&(w.fetch="inflight",ne&&(w.returnedStale=!0)),ne?I.__staleWhileFetching:I.__returned=I}let D=this.#m(T);if(!A&&!D)return w&&(w.fetch="hit"),this.#x(T),i&&this.#C(T),w&&this.#T(w,T),I;let H=this.#P(e,T,x,S),re=H.__staleWhileFetching!==void 0&&n;return w&&(w.fetch=D?"stale":"refresh",re&&D&&(w.returnedStale=!0)),re?H.__staleWhileFetching:H.__returned=H}}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:l}=r,c=this.#a.get(e);if(c!==void 0){let h=this.#t[c],f=this.#s(h);return l&&this.#T(l,c),this.#m(c)?(l&&(l.get="stale"),f?(l&&n&&h.__staleWhileFetching!==void 0&&(l.returnedStale=!0),n?h.__staleWhileFetching:void 0):(a||this.delete(e),l&&n&&(l.returnedStale=!0),n?h:void 0)):(l&&(l.get="hit"),f?h.__staleWhileFetching:(this.#x(c),i&&this.#C(c),h))}else l&&(l.get="miss")}#B(e,r){this.#p[r]=e,this.#h[e]=r}#x(e){e!==this.#l&&(e===this.#c?this.#c=this.#h[e]:this.#B(this.#p[e],this.#h[e]),this.#B(this.#l,e),this.#l=e)}delete(e){var n,i,a,l;let r=!1;if(this.#o!==0){let c=this.#a.get(e);if(c!==void 0)if(r=!0,this.#o===1)this.clear();else{this.#v(c);let h=this.#t[c];this.#s(h)?h.__abortController.abort(new Error("deleted")):(this.#_||this.#f)&&(this.#_&&((n=this.#r)==null||n.call(this,h,e,"delete")),this.#f&&((i=this.#u)==null||i.push([h,e,"delete"]))),this.#a.delete(e),this.#i[c]=void 0,this.#t[c]=void 0,c===this.#l?this.#l=this.#p[c]:c===this.#c?this.#c=this.#h[c]:(this.#h[this.#p[c]]=this.#h[c],this.#p[this.#h[c]]=this.#p[c]),this.#o--,this.#b.push(c)}}if(this.#f&&((a=this.#u)!=null&&a.length)){let c=this.#u,h;for(;h=c==null?void 0:c.shift();)(l=this.#d)==null||l.call(this,...h)}return r}clear(){var e,r,n;for(let i of this.#R({allowStale:!0})){let a=this.#t[i];if(this.#s(a))a.__abortController.abort(new Error("deleted"));else{let l=this.#i[i];this.#_&&((e=this.#r)==null||e.call(this,a,l,"delete")),this.#f&&((r=this.#u)==null||r.push([a,l,"delete"]))}}if(this.#a.clear(),this.#t.fill(void 0),this.#i.fill(void 0),this.#y&&this.#E&&(this.#y.fill(0),this.#E.fill(0)),this.#S&&this.#S.fill(0),this.#c=0,this.#l=0,this.#b.length=0,this.#g=0,this.#o=0,this.#f&&this.#u){let i=this.#u,a;for(;a=i==null?void 0:i.shift();)(n=this.#d)==null||n.call(this,...a)}}};rs.LRUCache=$i});var qc=C((tR,Fc)=>{"use strict";var k=(...t)=>t.every(e=>e)?t.join(""):"",te=t=>t?encodeURIComponent(t):"",Bc=t=>t.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-"),ub={sshtemplate:({domain:t,user:e,project:r,committish:n})=>`git@${t}:${e}/${r}.git${k("#",n)}`,sshurltemplate:({domain:t,user:e,project:r,committish:n})=>`git+ssh://git@${t}/${e}/${r}.git${k("#",n)}`,edittemplate:({domain:t,user:e,project:r,committish:n,editpath:i,path:a})=>`https://${t}/${e}/${r}${k("/",i,"/",te(n||"HEAD"),"/",a)}`,browsetemplate:({domain:t,user:e,project:r,committish:n,treepath:i})=>`https://${t}/${e}/${r}${k("/",i,"/",te(n))}`,browsetreetemplate:({domain:t,user:e,project:r,committish:n,treepath:i,path:a,fragment:l,hashformat:c})=>`https://${t}/${e}/${r}/${i}/${te(n||"HEAD")}/${a}${k("#",c(l||""))}`,browseblobtemplate:({domain:t,user:e,project:r,committish:n,blobpath:i,path:a,fragment:l,hashformat:c})=>`https://${t}/${e}/${r}/${i}/${te(n||"HEAD")}/${a}${k("#",c(l||""))}`,docstemplate:({domain:t,user:e,project:r,treepath:n,committish:i})=>`https://${t}/${e}/${r}${k("/",n,"/",te(i))}#readme`,httpstemplate:({auth:t,domain:e,user:r,project:n,committish:i})=>`git+https://${k(t,"@")}${e}/${r}/${n}.git${k("#",i)}`,filetemplate:({domain:t,user:e,project:r,committish:n,path:i})=>`https://${t}/${e}/${r}/raw/${te(n||"HEAD")}/${i}`,shortcuttemplate:({type:t,user:e,project:r,committish:n})=>`${t}:${e}/${r}${k("#",n)}`,pathtemplate:({user:t,project:e,committish:r})=>`${t}/${e}${k("#",r)}`,bugstemplate:({domain:t,user:e,project:r})=>`https://${t}/${e}/${r}/issues`,hashformat:Bc},lt={};lt.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:t,user:e,project:r,committish:n,path:i})=>`https://${k(t,"@")}raw.githubusercontent.com/${e}/${r}/${te(n||"HEAD")}/${i}`,gittemplate:({auth:t,domain:e,user:r,project:n,committish:i})=>`git://${k(t,"@")}${e}/${r}/${n}.git${k("#",i)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://codeload.${t}/${e}/${r}/tar.gz/${te(n||"HEAD")}`,extract:t=>{let[,e,r,n,i]=t.pathname.split("/",5);if(!(n&&n!=="tree")&&(n||(i=t.hash.slice(1)),r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:i}}};lt.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:t,user:e,project:r,committish:n,treepath:i,path:a,editpath:l})=>`https://${t}/${e}/${r}${k("/",i,"/",te(n||"HEAD"),"/",a,l)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/get/${te(n||"HEAD")}.tar.gz`,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(!["get"].includes(n)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:t.hash.slice(1)}}};lt.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:t,domain:e,user:r,project:n,committish:i})=>`git+https://${k(t,"@")}${e}/${r}/${n}.git${k("#",i)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/repository/archive.tar.gz?ref=${te(n||"HEAD")}`,extract:t=>{let e=t.pathname.slice(1);if(e.includes("/-/")||e.includes("/archive.tar.gz"))return;let r=e.split("/"),n=r.pop();n.endsWith(".git")&&(n=n.slice(0,-4));let i=r.join("/");if(!(!i||!n))return{user:i,project:n,committish:t.hash.slice(1)}}};lt.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:t,project:e,committish:r})=>`git@${t}:${e}.git${k("#",r)}`,sshurltemplate:({domain:t,project:e,committish:r})=>`git+ssh://git@${t}/${e}.git${k("#",r)}`,edittemplate:({domain:t,user:e,project:r,committish:n,editpath:i})=>`https://${t}/${e}/${r}${k("/",te(n))}/${i}`,browsetemplate:({domain:t,project:e,committish:r})=>`https://${t}/${e}${k("/",te(r))}`,browsetreetemplate:({domain:t,project:e,committish:r,path:n,hashformat:i})=>`https://${t}/${e}${k("/",te(r))}${k("#",i(n))}`,browseblobtemplate:({domain:t,project:e,committish:r,path:n,hashformat:i})=>`https://${t}/${e}${k("/",te(r))}${k("#",i(n))}`,docstemplate:({domain:t,project:e,committish:r})=>`https://${t}/${e}${k("/",te(r))}`,httpstemplate:({domain:t,project:e,committish:r})=>`git+https://${t}/${e}.git${k("#",r)}`,filetemplate:({user:t,project:e,committish:r,path:n})=>`https://gist.githubusercontent.com/${t}/${e}/raw${k("/",te(r))}/${n}`,shortcuttemplate:({type:t,project:e,committish:r})=>`${t}:${e}${k("#",r)}`,pathtemplate:({project:t,committish:e})=>`${t}${k("#",e)}`,bugstemplate:({domain:t,project:e})=>`https://${t}/${e}`,gittemplate:({domain:t,project:e,committish:r})=>`git://${t}/${e}.git${k("#",r)}`,tarballtemplate:({project:t,committish:e})=>`https://codeload.github.com/gist/${t}/tar.gz/${te(e||"HEAD")}`,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(n!=="raw"){if(!r){if(!e)return;r=e,e=null}return r.endsWith(".git")&&(r=r.slice(0,-4)),{user:e,project:r,committish:t.hash.slice(1)}}},hashformat:function(t){return t&&"file-"+Bc(t)}};lt.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:t,user:e,project:r,committish:n,path:i})=>`https://${t}/${e}/${r}/blob/${te(n)||"HEAD"}/${i}`,httpstemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}.git${k("#",n)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/archive/${te(n)||"HEAD"}.tar.gz`,bugstemplate:({user:t,project:e})=>`https://todo.sr.ht/${t}/${e}`,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(!["archive"].includes(n)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:t.hash.slice(1)}}};for(let[t,e]of Object.entries(lt))lt[t]=Object.assign({},ub,e);Fc.exports=lt});var Li=C((rR,Wc)=>{var cb=ye("url"),Pi=(t,e,r)=>{let n=t.indexOf(r);return t.lastIndexOf(e,n>-1?n:1/0)},Uc=t=>{try{return new cb.URL(t)}catch{}},hb=(t,e)=>{let r=t.indexOf(":"),n=t.slice(0,r+1);if(Object.prototype.hasOwnProperty.call(e,n))return t;let i=t.indexOf("@");return i>-1?i>r?`git+ssh://${t}`:t:t.indexOf("//")===r+1?t:`${t.slice(0,r+1)}//${t.slice(r+1)}`},fb=t=>{let e=Pi(t,"@","#"),r=Pi(t,":","#");return r>e&&(t=t.slice(0,r)+"/"+t.slice(r+1)),Pi(t,":","#")===-1&&t.indexOf("//")===-1&&(t=`git+ssh://${t}`),t};Wc.exports=(t,e)=>{let r=e?hb(t,e):t;return Uc(r)||Uc(fb(r))}});var zc=C((nR,Mc)=>{"use strict";var db=Li(),pb=t=>{let e=t.indexOf("#"),r=t.indexOf("/"),n=t.indexOf("/",r+1),i=t.indexOf(":"),a=/\s/.exec(t),l=t.indexOf("@"),c=!a||e>-1&&a.index>e,h=l===-1||e>-1&&l>e,f=i===-1||e>-1&&i>e,b=n===-1||e>-1&&n>e,m=r>0,g=e>-1?t[e-1]!=="/":!t.endsWith("/"),p=!t.startsWith(".");return c&&m&&g&&p&&h&&f&&b};Mc.exports=(t,e,{gitHosts:r,protocols:n})=>{var S,A;if(!t)return;let i=pb(t)?`github:${t}`:t,a=db(i,n);if(!a)return;let l=r.byShortcut[a.protocol],c=r.byDomain[a.hostname.startsWith("www.")?a.hostname.slice(4):a.hostname],h=l||c;if(!h)return;let f=r[l||c],b=null;(S=n[a.protocol])!=null&&S.auth&&(a.username||a.password)&&(b=`${a.username}${a.password?":"+a.password:""}`);let m=null,g=null,p=null,_=null;try{if(l){let w=a.pathname.startsWith("/")?a.pathname.slice(1):a.pathname,O=w.indexOf("@");O>-1&&(w=w.slice(O+1));let x=w.lastIndexOf("/");x>-1?(g=decodeURIComponent(w.slice(0,x)),g||(g=null),p=decodeURIComponent(w.slice(x+1))):p=decodeURIComponent(w),p.endsWith(".git")&&(p=p.slice(0,-4)),a.hash&&(m=decodeURIComponent(a.hash.slice(1))),_="shortcut"}else{if(!f.protocols.includes(a.protocol))return;let w=f.extract(a);if(!w)return;g=w.user&&decodeURIComponent(w.user),p=decodeURIComponent(w.project),m=decodeURIComponent(w.committish),_=((A=n[a.protocol])==null?void 0:A.name)||a.protocol.slice(0,-1)}}catch(w){if(w instanceof URIError)return;throw w}return[h,g,b,p,m,_,e]}});var kc=C((sR,jc)=>{"use strict";var{LRUCache:mb}=Hc(),gb=qc(),bb=zc(),yb=Li(),Ni=new mb({max:1e3}),ns=class t{constructor(e,r,n,i,a,l,c={}){Object.assign(this,t.#e[e],{type:e,user:r,auth:n,project:i,committish:a,default:l,opts:c})}static#e={byShortcut:{},byDomain:{}};static#n={"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}};static addHost(e,r){t.#e[e]=r,t.#e.byDomain[r.domain]=e,t.#e.byShortcut[`${e}:`]=e,t.#n[`${e}:`]={name:e}}static fromUrl(e,r){if(typeof e!="string")return;let n=e+JSON.stringify(r||{});if(!Ni.has(n)){let i=bb(e,r,{gitHosts:t.#e,protocols:t.#n});Ni.set(n,i?new t(...i):void 0)}return Ni.get(n)}static parseUrl(e){return yb(e)}#r(e,r){if(typeof e!="function")return null;let n={...this,...this.opts,...r};n.path||(n.path=""),n.path.startsWith("/")&&(n.path=n.path.slice(1)),n.noCommittish&&(n.committish=null);let i=e(n);return n.noGitPlus&&i.startsWith("git+")?i.slice(4):i}hash(){return this.committish?`#${this.committish}`:""}ssh(e){return this.#r(this.sshtemplate,e)}sshurl(e){return this.#r(this.sshurltemplate,e)}browse(e,...r){return typeof e!="string"?this.#r(this.browsetemplate,e):typeof r[0]!="string"?this.#r(this.browsetreetemplate,{...r[0],path:e}):this.#r(this.browsetreetemplate,{...r[1],fragment:r[0],path:e})}browseFile(e,...r){return typeof r[0]!="string"?this.#r(this.browseblobtemplate,{...r[0],path:e}):this.#r(this.browseblobtemplate,{...r[1],fragment:r[0],path:e})}docs(e){return this.#r(this.docstemplate,e)}bugs(e){return this.#r(this.bugstemplate,e)}https(e){return this.#r(this.httpstemplate,e)}git(e){return this.#r(this.gittemplate,e)}shortcut(e){return this.#r(this.shortcuttemplate,e)}path(e){return this.#r(this.pathtemplate,e)}tarball(e){return this.#r(this.tarballtemplate,{...e,noCommittish:!1})}file(e,r){return this.#r(this.filetemplate,{...r,path:e})}edit(e,r){return this.#r(this.edittemplate,{...r,path:e})}getDefaultRepresentation(){return this.default}toString(e){return this.default&&typeof this[this.default]=="function"?this[this.default](e):this.sshurl(e)}};for(let[t,e]of Object.entries(gb))ns.addHost(t,e);jc.exports=ns});var rh=C((gR,th)=>{"use strict";var Ct=class t extends Error{constructor(e,r,n){super("[ParserError] "+e,r,n),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,t)}},as=class{constructor(e){this.parser=e,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}},Gr=class{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new as(this.parseStart)}parse(e){if(e.length===0||e.length==null)return;this._buf=String(e),this.ii=-1,this.char=-1;let r;for(;r===!1||this.nextChar();)r=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=1114112;let e;do e=this.state.parser,this.runOne();while(this.state.parser!==e);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(e){if(typeof e!="function")throw new Ct("Tried to set state to non-existent state: "+JSON.stringify(e));this.state.parser=e}goto(e){return this.next(e),this.runOne()}call(e,r){r&&this.next(r),this.stack.push(this.state),this.state=new as(e)}callNow(e,r){return this.call(e,r),this.runOne()}return(e){if(this.stack.length===0)throw this.error(new Ct("Stack underflow"));e===void 0&&(e=this.state.buf),this.state=this.stack.pop(),this.state.returned=e}returnNow(e){return this.return(e),this.runOne()}consume(){if(this.char===1114112)throw this.error(new Ct("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(e){return e.line=this.line,e.col=this.col,e.pos=this.pos,e}parseStart(){throw new Ct("Must declare a parseStart method")}};Gr.END=1114112;Gr.Error=Ct;th.exports=Gr});var sh=C((bR,nh)=>{"use strict";nh.exports=t=>{let e=new Date(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var ls=C((yR,ih)=>{"use strict";ih.exports=(t,e)=>{for(e=String(e);e.length<t;)e="0"+e;return e}});var ah=C((_R,oh)=>{"use strict";var er=ls(),Mi=class extends Date{constructor(e){super(e+"Z"),this.isFloating=!0}toISOString(){let e=`${this.getUTCFullYear()}-${er(2,this.getUTCMonth()+1)}-${er(2,this.getUTCDate())}`,r=`${er(2,this.getUTCHours())}:${er(2,this.getUTCMinutes())}:${er(2,this.getUTCSeconds())}.${er(3,this.getUTCMilliseconds())}`;return`${e}T${r}`}};oh.exports=t=>{let e=new Mi(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var ch=C((wR,uh)=>{"use strict";var lh=ls(),Ib=global.Date,zi=class extends Ib{constructor(e){super(e),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${lh(2,this.getUTCMonth()+1)}-${lh(2,this.getUTCDate())}`}};uh.exports=t=>{let e=new zi(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var fh=C((RR,hh)=>{"use strict";var us=ls(),ji=class extends Date{constructor(e){super(`0000-01-01T${e}Z`),this.isTime=!0}toISOString(){return`${us(2,this.getUTCHours())}:${us(2,this.getUTCMinutes())}:${us(2,this.getUTCSeconds())}.${us(3,this.getUTCMilliseconds())}`}};hh.exports=t=>{let e=new ji(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var dh=C((exports,module)=>{"use strict";module.exports=makeParserClass(rh());module.exports.makeParserClass=makeParserClass;var TomlError=class t extends Error{constructor(e){super(e),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,t),this.fromTOML=!0,this.wrapped=null}};TomlError.wrap=t=>{let e=new TomlError(t.message);return e.code=t.code,e.wrapped=t,e};module.exports.TomlError=TomlError;var createDateTime=sh(),createDateTimeFloat=ah(),createDate=ch(),createTime=fh(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(t){return t>=CHAR_0&&t<=CHAR_9}function isHexit(t){return t>=CHAR_A&&t<=CHAR_F||t>=CHAR_a&&t<=CHAR_f||t>=CHAR_0&&t<=CHAR_9}function isBit(t){return t===CHAR_1||t===CHAR_0}function isOctit(t){return t>=CHAR_0&&t<=CHAR_7}function isAlphaNumQuoteHyphen(t){return t>=CHAR_A&&t<=CHAR_Z||t>=CHAR_a&&t<=CHAR_z||t>=CHAR_0&&t<=CHAR_9||t===CHAR_APOS||t===CHAR_QUOT||t===CHAR_LOWBAR||t===CHAR_HYPHEN}function isAlphaNumHyphen(t){return t>=CHAR_A&&t<=CHAR_Z||t>=CHAR_a&&t<=CHAR_z||t>=CHAR_0&&t<=CHAR_9||t===CHAR_LOWBAR||t===CHAR_HYPHEN}var _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(t,e){return hasOwnProperty.call(t,e)?!0:(e==="__proto__"&&defineProperty(t,"__proto__",descriptor),!1)}var INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(t){return t===null||typeof t!="object"?!1:t[_type]===INLINE_TABLE}var TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(t){return t===null||typeof t!="object"?!1:t[_type]===TABLE}var _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(t){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:t}})}function isInlineList(t){return t===null||typeof t!="object"?!1:t[_type]===INLINE_LIST}var LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(t){return t===null||typeof t!="object"?!1:t[_type]===LIST}var _custom;try{let utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(t){}var _inspect=_custom||"inspect",BoxedBigInt=class{constructor(e){try{this.value=global.BigInt.asIntN(64,e)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}},INTEGER=Symbol("integer");function Integer(t){let e=Number(t);return Object.is(e,-0)&&(e=0),global.BigInt&&!Number.isSafeInteger(e)?new BoxedBigInt(t):Object.defineProperties(new Number(e),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${t}]`}})}function isInteger(t){return t===null||typeof t!="object"?!1:t[_type]===INTEGER}var FLOAT=Symbol("float");function Float(t){return Object.defineProperties(new Number(t),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${t}]`}})}function isFloat(t){return t===null||typeof t!="object"?!1:t[_type]===FLOAT}function tomlType(t){let e=typeof t;if(e==="object"){if(t===null)return"null";if(t instanceof Date)return"datetime";if(_type in t)switch(t[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return e}function makeParserClass(t){class e extends t{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===t.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===t.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===t.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(n){let i=this.ctx,a=n.key.pop();for(let l of n.key){if(hasKey(i,l)&&(!isTable(i[l])||i[l][_declared]))throw this.error(new TomlError("Can't redefine existing key"));i=i[l]=i[l]||Table()}if(hasKey(i,a))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(n.value)||isFloat(n.value)?i[a]=n.value.valueOf():i[a]=n.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(n){return this.state.resultTable?this.state.resultTable.push(n):this.state.resultTable=[n],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(n){return this.returnNow({key:this.state.resultTable,value:n})}parseComment(){do if(this.char===t.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(n){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,n)&&(!isTable(this.ctx[n])||this.ctx[n][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[n]=this.ctx[n]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,n))this.ctx=this.ctx[n]=Table();else if(isTable(this.ctx[n]))this.ctx=this.ctx[n];else if(isList(this.ctx[n]))this.ctx=this.ctx[n][this.ctx[n].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(n){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,n)||(this.ctx[n]=List()),isInlineList(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[n])){let i=Table();this.ctx[n].push(i),this.ctx=i}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,n))this.ctx=this.ctx[n]=Table();else{if(isInlineList(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[n]))this.ctx=this.ctx[n][this.ctx[n].length-1];else if(isTable(this.ctx[n]))this.ctx=this.ctx[n];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(n){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===t.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(n){return this.returnNow(n)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===t.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===t.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(n){return this.state.buf+=n,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===t.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let n="\\u00";return this.char<16&&(n+="0"),n+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${n} instead`))}recordMultiEscapeReplacement(n){return this.state.buf+=n,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(n){try{let i=parseInt(n,16);if(i>=SURROGATE_FIRST&&i<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(i))}catch(i){throw this.error(TomlError.wrap(i))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===t.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(n){if(this.state.resultArr){let i=this.state.resultArr[_contentType],a=tomlType(n);if(i!==a)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${i} and ${a}`))}else this.state.resultArr=InlineList(tomlType(n));return isFloat(n)||isInteger(n)?this.state.resultArr.push(n.valueOf()):this.state.resultArr.push(n),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===t.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(n){let i=this.state.resultTable,a=n.key.pop();for(let l of n.key){if(hasKey(i,l)&&(!isTable(i[l])||i[l][_declared]))throw this.error(new TomlError("Can't redefine existing key"));i=i[l]=i[l]||Table()}if(hasKey(i,a))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(n.value)||isFloat(n.value)?i[a]=n.value.valueOf():i[a]=n.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===t.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return e}});var mh=C((SR,ph)=>{"use strict";ph.exports=$b;function $b(t,e){if(t.pos==null||t.line==null)return t;let r=t.message;if(r+=` at row ${t.line+1}, col ${t.col+1}, pos ${t.pos}:
`,e&&e.split){let n=e.split(/\n/),i=String(Math.min(n.length,t.line+3)).length,a=" ";for(;a.length<i;)a+=" ";for(let l=Math.max(0,t.line-1);l<Math.min(n.length,t.line+2);++l){let c=String(l+1);if(c.length<i&&(c=" "+c),t.line===l){r+=c+"> "+n[l]+`
`,r+=a+"  ";for(let h=0;h<t.col;++h)r+=" ";r+=`^
`}else r+=c+": "+n[l]+`
`}}return t.message=r+`
`,t}});var bh=C((ER,gh)=>{"use strict";gh.exports=Nb;var Pb=dh(),Lb=mh();function Nb(t){global.Buffer&&global.Buffer.isBuffer(t)&&(t=t.toString("utf8"));let e=new Pb;try{return e.parse(t),e.finish()}catch(r){throw Lb(r,t)}}});function Ws({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}var Gs=Le(ca(),1);var ha=Gs.default.HttpProxyAgent,fa=Gs.default.HttpsProxyAgent;var Cr=class extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(let[r,n]of e)this.onEviction(r,n.value)}_deleteIfExpired(e,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,r.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,r){if(this._deleteIfExpired(e,r)===!1)return r.value}_getItemValue(e,r){return r.expiry?this._getOrDeleteIfExpired(e,r):r.value}_peek(e,r){let n=r.get(e);return this._getItemValue(e,n)}_set(e,r){this.cache.set(e,r),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,r){this.oldCache.delete(e),this._set(e,r)}*_entriesAscending(){for(let e of this.oldCache){let[r,n]=e;this.cache.has(r)||this._deleteIfExpired(r,n)===!1&&(yield e)}for(let e of this.cache){let[r,n]=e;this._deleteIfExpired(r,n)===!1&&(yield e)}}get(e){if(this.cache.has(e)){let r=this.cache.get(e);return this._getItemValue(e,r)}if(this.oldCache.has(e)){let r=this.oldCache.get(e);if(this._deleteIfExpired(e,r)===!1)return this._moveToRecent(e,r),r.value}}set(e,r,{maxAge:n=this.maxAge}={}){let i=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;this.cache.has(e)?this.cache.set(e,{value:r,expiry:i}):this._set(e,{value:r,expiry:i})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");let r=[...this._entriesAscending()],n=r.length-e;n<0?(this.cache=new Map(r),this.oldCache=new Map,this._size=r.length):(n>0&&this._emitEvictions(r.slice(0,n)),this.oldCache=new Map(r.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache){let[r,n]=e;this._deleteIfExpired(r,n)===!1&&(yield[r,n.value])}for(let e of this.oldCache){let[r,n]=e;this.cache.has(r)||this._deleteIfExpired(r,n)===!1&&(yield[r,n.value])}}*entriesDescending(){let e=[...this.cache];for(let r=e.length-1;r>=0;--r){let n=e[r],[i,a]=n;this._deleteIfExpired(i,a)===!1&&(yield[i,a.value])}e=[...this.oldCache];for(let r=e.length-1;r>=0;--r){let n=e[r],[i,a]=n;this.cache.has(i)||this._deleteIfExpired(i,a)===!1&&(yield[i,a.value])}}*entriesAscending(){for(let[e,r]of this._entriesAscending())yield[e,r.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,r=this){for(let[n,i]of this.entriesAscending())e.call(r,i,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}};var ga=Le(pa(),1);import{Agent as _d}from"node:http";import{Agent as wd}from"node:https";var Rd={agentCacheSize:512},ma={maxSockets:64,keepAlive:!1},Vs=class t extends Error{constructor(e){super(e),this.name="TimeoutError",Error.captureStackTrace(this,t)}};function Ys(t,e={}){if(!("undici"in e))throw new Error("The 'undici' option is required");let r={...Rd,...e},n=new Cr({maxSize:r.agentCacheSize});async function i(l,c={}){let{origin:h,protocol:f}=new URL(l),b=c!=null&&c.noProxy?null:(0,ga.getProxyForUrl)(l),m=JSON.stringify({proxyUrl:b,origin:h,...c});if(n.has(m))return n.get(m);let g;if("noProxy"in c&&delete c.noProxy,e.undici){let{ProxyAgent:p,Agent:_}=await import("undici"),S={...c};"keepAlive"in S&&!("pipelining"in S)&&(S.pipelining=S.keepAlive?1:0),"keepAlive"in S&&delete S.keepAlive,"maxSockets"in S&&(S.connections=S.maxSockets,delete S.maxSockets),b?g=new p({...S,uri:b}):g=new _(S)}else{let p=f==="https:";b?g=new(p?fa:ha)({...c,proxy:b}):g=new(p?wd:_d)(c)}return n.set(m,g),g}let a=(l,{timeout:c=0,agentOpts:h={},...f}={})=>new Promise(async(b,m)=>{var _;if(!e.undici&&!("agent"in f)){let S=await i(l,{...ma,...h});S&&(f.agent=S)}else if(e.undici&&!("dispatcher"in f)){let S=await i(l,{...ma,...h});S&&(f.dispatcher=S)}let g,p;c&&(!("signal"in f)&&globalThis.AbortController&&(p=new AbortController,f.signal=p.signal),g=setTimeout(()=>{var A;(A=p==null?void 0:p.abort)==null||A.call(p);let S=new Vs(`${f.method||"GET"} ${l} timed out after ${c}ms`);m(S)},c),(_=g==null?void 0:g.unref)==null||_.call(g)),t(l,f).then(S=>{g&&clearTimeout(g),b(S)}).catch(S=>{if(g&&clearTimeout(g),S.name==="AbortError")return b(null);m(S)})});return a.clearCache=()=>{for(let l of n.values())"destroy"in l&&l.destroy();n.clear()},a}var vh=Le(Qs(),1);import Qd from"node:http";import Kd from"node:https";import zt from"node:zlib";import Ja,{PassThrough as el,pipeline as jt}from"node:stream";import{Buffer as Fn}from"node:buffer";function Ed(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),n="",i=!1,a=r[0]||"text/plain",l=a;for(let b=1;b<r.length;b++)r[b]==="base64"?i=!0:r[b]&&(l+=`;${r[b]}`,r[b].indexOf("charset=")===0&&(n=r[b].substring(8)));!r[0]&&!n.length&&(l+=";charset=US-ASCII",n="US-ASCII");let c=i?"base64":"ascii",h=unescape(t.substring(e+1)),f=Buffer.from(h,c);return f.type=a,f.typeFull=l,f.charset=n,f}var wa=Ed;vr();On();import it,{PassThrough as qa}from"node:stream";import{types as Ua,deprecate as si,promisify as Ud}from"node:util";import{Buffer as Ee}from"node:buffer";var Ge=class extends Error{constructor(e,r){super(e),Error.captureStackTrace(this,this.constructor),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var de=class extends Ge{constructor(e,r,n){super(e,r),n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}};var In=Symbol.toStringTag,ei=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[In]==="URLSearchParams",Or=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[In]),Oa=t=>typeof t=="object"&&(t[In]==="AbortSignal"||t[In]==="EventTarget"),Ia=(t,e)=>{let r=new URL(e).hostname,n=new URL(t).hostname;return r===n||r.endsWith(`.${n}`)},$a=(t,e)=>{let r=new URL(e).protocol,n=new URL(t).protocol;return r===n};var Wd=Ud(it.pipeline),pe=Symbol("Body internals"),Fe=class{constructor(e,{size:r=0}={}){let n=null;e===null?e=null:ei(e)?e=Ee.from(e.toString()):Or(e)||Ee.isBuffer(e)||(Ua.isAnyArrayBuffer(e)?e=Ee.from(e):ArrayBuffer.isView(e)?e=Ee.from(e.buffer,e.byteOffset,e.byteLength):e instanceof it||(e instanceof bt?(e=xa(e),n=e.type.split("=")[1]):e=Ee.from(String(e))));let i=e;Ee.isBuffer(e)?i=it.Readable.from(e):Or(e)&&(i=it.Readable.from(e.stream())),this[pe]={body:e,stream:i,boundary:n,disturbed:!1,error:null},this.size=r,e instanceof it&&e.on("error",a=>{let l=a instanceof Ge?a:new de(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[pe].error=l})}get body(){return this[pe].stream}get bodyUsed(){return this[pe].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:r,byteLength:n}=await ni(this);return e.slice(r,r+n)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let n=new bt,i=new URLSearchParams(await this.text());for(let[a,l]of i)n.append(a,l);return n}let{toFormData:r}=await Promise.resolve().then(()=>(Fa(),Ba));return r(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[pe].body&&this[pe].body.type||"",r=await this.arrayBuffer();return new ke([r],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await ni(this);return new TextDecoder().decode(e)}buffer(){return ni(this)}};Fe.prototype.buffer=si(Fe.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Fe.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:si(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function ni(t){if(t[pe].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[pe].disturbed=!0,t[pe].error)throw t[pe].error;let{body:e}=t;if(e===null)return Ee.alloc(0);if(!(e instanceof it))return Ee.alloc(0);let r=[],n=0;try{for await(let i of e){if(t.size>0&&n+i.length>t.size){let a=new de(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw e.destroy(a),a}n+=i.length,r.push(i)}}catch(i){throw i instanceof Ge?i:new de(`Invalid response body while trying to fetch ${t.url}: ${i.message}`,"system",i)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return r.every(i=>typeof i=="string")?Ee.from(r.join("")):Ee.concat(r,n)}catch(i){throw new de(`Could not create Buffer from response body for ${t.url}: ${i.message}`,"system",i)}else throw new de(`Premature close of server response while trying to fetch ${t.url}`)}var Wt=(t,e)=>{let r,n,{body:i}=t[pe];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof it&&typeof i.getBoundary!="function"&&(r=new qa({highWaterMark:e}),n=new qa({highWaterMark:e}),i.pipe(r),i.pipe(n),t[pe].stream=r,i=n),i},Md=si(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Ln=(t,e)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":ei(t)?"application/x-www-form-urlencoded;charset=UTF-8":Or(t)?t.type||null:Ee.isBuffer(t)||Ua.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof bt?`multipart/form-data; boundary=${e[pe].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${Md(t)}`:t instanceof it?null:"text/plain;charset=UTF-8",Wa=t=>{let{body:e}=t[pe];return e===null?0:Or(e)?e.size:Ee.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},Ma=async(t,{body:e})=>{e===null?t.end():await Wd(e,t)};import{types as za}from"node:util";import Dn from"node:http";var Nn=typeof Dn.validateHeaderName=="function"?Dn.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let e=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},ii=typeof Dn.validateHeaderValue=="function"?Dn.validateHeaderValue:(t,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let r=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},_e=class t extends URLSearchParams{constructor(e){let r=[];if(e instanceof t){let n=e.raw();for(let[i,a]of Object.entries(n))r.push(...a.map(l=>[i,l]))}else if(e!=null)if(typeof e=="object"&&!za.isBoxedPrimitive(e)){let n=e[Symbol.iterator];if(n==null)r.push(...Object.entries(e));else{if(typeof n!="function")throw new TypeError("Header pairs must be iterable");r=[...e].map(i=>{if(typeof i!="object"||za.isBoxedPrimitive(i))throw new TypeError("Each header pair must be an iterable object");return[...i]}).map(i=>{if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...i]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return r=r.length>0?r.map(([n,i])=>(Nn(n),ii(n,String(i)),[String(n).toLowerCase(),String(i)])):void 0,super(r),new Proxy(this,{get(n,i,a){switch(i){case"append":case"set":return(l,c)=>(Nn(l),ii(l,String(c)),URLSearchParams.prototype[i].call(n,String(l).toLowerCase(),String(c)));case"delete":case"has":case"getAll":return l=>(Nn(l),URLSearchParams.prototype[i].call(n,String(l).toLowerCase()));case"keys":return()=>(n.sort(),new Set(URLSearchParams.prototype.keys.call(n)).keys());default:return Reflect.get(n,i,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let r=this.getAll(e);if(r.length===0)return null;let n=r.join(", ");return/^content-encoding$/i.test(e)&&(n=n.toLowerCase()),n}forEach(e,r=void 0){for(let n of this.keys())Reflect.apply(e,r,[this.get(n),n,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,r)=>(e[r]=this.getAll(r),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,r)=>{let n=this.getAll(r);return r==="host"?e[r]=n[0]:e[r]=n.length>1?n:n[0],e},{})}};Object.defineProperties(_e.prototype,["get","entries","forEach","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));function ja(t=[]){return new _e(t.reduce((e,r,n,i)=>(n%2===0&&e.push(i.slice(n,n+2)),e),[]).filter(([e,r])=>{try{return Nn(e),ii(e,String(r)),!0}catch{return!1}}))}var zd=new Set([301,302,303,307,308]),Hn=t=>zd.has(t);var Ne=Symbol("Response internals"),Te=class t extends Fe{constructor(e=null,r={}){super(e,r);let n=r.status!=null?r.status:200,i=new _e(r.headers);if(e!==null&&!i.has("Content-Type")){let a=Ln(e,this);a&&i.append("Content-Type",a)}this[Ne]={type:"default",url:r.url,status:n,statusText:r.statusText||"",headers:i,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[Ne].type}get url(){return this[Ne].url||""}get status(){return this[Ne].status}get ok(){return this[Ne].status>=200&&this[Ne].status<300}get redirected(){return this[Ne].counter>0}get statusText(){return this[Ne].statusText}get headers(){return this[Ne].headers}get highWaterMark(){return this[Ne].highWaterMark}clone(){return new t(Wt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,r=302){if(!Hn(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new t(null,{headers:{location:new URL(e).toString()},status:r})}static error(){let e=new t(null,{status:0,statusText:""});return e[Ne].type="error",e}static json(e=void 0,r={}){let n=JSON.stringify(e);if(n===void 0)throw new TypeError("data is not JSON serializable");let i=new _e(r&&r.headers);return i.has("content-type")||i.set("content-type","application/json"),new t(n,{...r,headers:i})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(Te.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});import{format as Gd}from"node:url";import{deprecate as Vd}from"node:util";var ka=t=>{if(t.search)return t.search;let e=t.href.length-1,r=t.hash||(t.href[e]==="#"?"#":"");return t.href[e-r.length]==="?"?"?":""};import{isIP as jd}from"node:net";function Ga(t,e=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}var Va=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Ya="strict-origin-when-cross-origin";function Qa(t){if(!Va.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function kd(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let e=t.host.replace(/(^\[)|(]$)/g,""),r=jd(e);return r===4&&/^127\./.test(e)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:t.host==="localhost"||t.host.endsWith(".localhost")?!1:t.protocol==="file:"}function Mt(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:kd(t)}function Ka(t,{referrerURLCallback:e,referrerOriginCallback:r}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let n=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let i=t.referrer,a=Ga(i),l=Ga(i,!0);a.toString().length>4096&&(a=l),e&&(a=e(a)),r&&(l=r(l));let c=new URL(t.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return l;case"unsafe-url":return a;case"strict-origin":return Mt(a)&&!Mt(c)?"no-referrer":l.toString();case"strict-origin-when-cross-origin":return a.origin===c.origin?a:Mt(a)&&!Mt(c)?"no-referrer":l;case"same-origin":return a.origin===c.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===c.origin?a:l;case"no-referrer-when-downgrade":return Mt(a)&&!Mt(c)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}function Xa(t){let e=(t.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let n of e)n&&Va.has(n)&&(r=n);return r}var se=Symbol("Request internals"),$r=t=>typeof t=="object"&&typeof t[se]=="object",Yd=Vd(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),_t=class t extends Fe{constructor(e,r={}){let n;if($r(e)?n=new URL(e.url):(n=new URL(e),e={}),n.username!==""||n.password!=="")throw new TypeError(`${n} is an url with embedded credentials.`);let i=r.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(i)&&(i=i.toUpperCase()),!$r(r)&&"data"in r&&Yd(),(r.body!=null||$r(e)&&e.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body?r.body:$r(e)&&e.body!==null?Wt(e):null;super(a,{size:r.size||e.size||0});let l=new _e(r.headers||e.headers||{});if(a!==null&&!l.has("Content-Type")){let f=Ln(a,this);f&&l.set("Content-Type",f)}let c=$r(e)?e.signal:null;if("signal"in r&&(c=r.signal),c!=null&&!Oa(c))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let h=r.referrer==null?e.referrer:r.referrer;if(h==="")h="no-referrer";else if(h){let f=new URL(h);h=/^about:(\/\/)?client$/.test(f)?"client":f}else h=void 0;this[se]={method:i,redirect:r.redirect||e.redirect||"follow",headers:l,parsedURL:n,signal:c,referrer:h},this.follow=r.follow===void 0?e.follow===void 0?20:e.follow:r.follow,this.compress=r.compress===void 0?e.compress===void 0?!0:e.compress:r.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent,this.highWaterMark=r.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||e.referrerPolicy||""}get method(){return this[se].method}get url(){return Gd(this[se].parsedURL)}get headers(){return this[se].headers}get redirect(){return this[se].redirect}get signal(){return this[se].signal}get referrer(){if(this[se].referrer==="no-referrer")return"";if(this[se].referrer==="client")return"about:client";if(this[se].referrer)return this[se].referrer.toString()}get referrerPolicy(){return this[se].referrerPolicy}set referrerPolicy(e){this[se].referrerPolicy=Qa(e)}clone(){return new t(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(_t.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Za=t=>{let{parsedURL:e}=t[se],r=new _e(t[se].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(n="0"),t.body!==null){let c=Wa(t);typeof c=="number"&&!Number.isNaN(c)&&(n=String(c))}n&&r.set("Content-Length",n),t.referrerPolicy===""&&(t.referrerPolicy=Ya),t.referrer&&t.referrer!=="no-referrer"?t[se].referrer=Ka(t):t[se].referrer="no-referrer",t[se].referrer instanceof URL&&r.set("Referer",t.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:i}=t;typeof i=="function"&&(i=i(e));let a=ka(e),l={path:e.pathname+a,method:t.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:i};return{parsedURL:e,options:l}};var Bn=class extends Ge{constructor(e,r="aborted"){super(e,r)}};On();ti();var Xd=new Set(["data:","http:","https:"]);async function qn(t,e){return new Promise((r,n)=>{let i=new _t(t,e),{parsedURL:a,options:l}=Za(i);if(!Xd.has(a.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${a.protocol.replace(/:$/,"")}" is not supported.`);if(a.protocol==="data:"){let _=wa(i.url),S=new Te(_,{headers:{"Content-Type":_.typeFull}});r(S);return}let c=(a.protocol==="https:"?Kd:Qd).request,{signal:h}=i,f=null,b=()=>{let _=new Bn("The operation was aborted.");n(_),i.body&&i.body instanceof Ja.Readable&&i.body.destroy(_),!(!f||!f.body)&&f.body.emit("error",_)};if(h&&h.aborted){b();return}let m=()=>{b(),p()},g=c(a.toString(),l);h&&h.addEventListener("abort",m);let p=()=>{g.abort(),h&&h.removeEventListener("abort",m)};g.on("error",_=>{n(new de(`request to ${i.url} failed, reason: ${_.message}`,"system",_)),p()}),Zd(g,_=>{f&&f.body&&f.body.destroy(_)}),process.version<"v14"&&g.on("socket",_=>{let S;_.prependListener("end",()=>{S=_._eventsCount}),_.prependListener("close",A=>{if(f&&S<_._eventsCount&&!A){let w=new Error("Premature close");w.code="ERR_STREAM_PREMATURE_CLOSE",f.body.emit("error",w)}})}),g.on("response",_=>{g.setTimeout(0);let S=ja(_.rawHeaders);if(Hn(_.statusCode)){let T=S.get("Location"),I=null;try{I=T===null?null:new URL(T,i.url)}catch{if(i.redirect!=="manual"){n(new de(`uri requested responds with an invalid redirect URL: ${T}`,"invalid-redirect")),p();return}}switch(i.redirect){case"error":n(new de(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),p();return;case"manual":break;case"follow":{if(I===null)break;if(i.counter>=i.follow){n(new de(`maximum redirect reached at: ${i.url}`,"max-redirect")),p();return}let D={headers:new _e(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:Wt(i),signal:i.signal,size:i.size,referrer:i.referrer,referrerPolicy:i.referrerPolicy};if(!Ia(i.url,I)||!$a(i.url,I))for(let Q of["authorization","www-authenticate","cookie","cookie2"])D.headers.delete(Q);if(_.statusCode!==303&&i.body&&e.body instanceof Ja.Readable){n(new de("Cannot follow redirect with body being a readable stream","unsupported-redirect")),p();return}(_.statusCode===303||(_.statusCode===301||_.statusCode===302)&&i.method==="POST")&&(D.method="GET",D.body=void 0,D.headers.delete("content-length"));let H=Xa(S);H&&(D.referrerPolicy=H),r(qn(new _t(I,D))),p();return}default:return n(new TypeError(`Redirect option '${i.redirect}' is not a valid value of RequestRedirect`))}}h&&_.once("end",()=>{h.removeEventListener("abort",m)});let A=jt(_,new el,T=>{T&&n(T)});process.version<"v12.10"&&_.on("aborted",m);let w={url:i.url,status:_.statusCode,statusText:_.statusMessage,headers:S,size:i.size,counter:i.counter,highWaterMark:i.highWaterMark},O=S.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||O===null||_.statusCode===204||_.statusCode===304){f=new Te(A,w),r(f);return}let x={flush:zt.Z_SYNC_FLUSH,finishFlush:zt.Z_SYNC_FLUSH};if(O==="gzip"||O==="x-gzip"){A=jt(A,zt.createGunzip(x),T=>{T&&n(T)}),f=new Te(A,w),r(f);return}if(O==="deflate"||O==="x-deflate"){let T=jt(_,new el,I=>{I&&n(I)});T.once("data",I=>{(I[0]&15)===8?A=jt(A,zt.createInflate(),D=>{D&&n(D)}):A=jt(A,zt.createInflateRaw(),D=>{D&&n(D)}),f=new Te(A,w),r(f)}),T.once("end",()=>{f||(f=new Te(A,w),r(f))});return}if(O==="br"){A=jt(A,zt.createBrotliDecompress(),T=>{T&&n(T)}),f=new Te(A,w),r(f);return}f=new Te(A,w),r(f)}),Ma(g,i).catch(n)})}function Zd(t,e){let r=Fn.from(`0\r
\r
`),n=!1,i=!1,a;t.on("response",l=>{let{headers:c}=l;n=c["transfer-encoding"]==="chunked"&&!c["content-length"]}),t.on("socket",l=>{let c=()=>{if(n&&!i){let f=new Error("Premature close");f.code="ERR_STREAM_PREMATURE_CLOSE",e(f)}},h=f=>{i=Fn.compare(f.slice(-5),r)===0,!i&&a&&(i=Fn.compare(a.slice(-3),r.slice(0,3))===0&&Fn.compare(f.slice(-2),r.slice(3))===0),a=f};l.prependListener("close",c),l.on("data",h),t.on("close",()=>{l.removeListener("close",c),l.removeListener("data",h)})})}var xh=Le(xl(),1),Oh=Le(ui(),1),G=Le(Ac(),1),Ih=Le(Ic(),1),$h=Le(kc(),1);import{cwd as Db,stdout as Hb,argv as Bb,env as cs,exit as Vr,versions as Fb}from"node:process";import{join as hs,dirname as Ph,basename as ki,resolve as qb}from"node:path";import{lstatSync as Ub,readFileSync as yh,truncateSync as Wb,writeFileSync as Mb,accessSync as zb}from"node:fs";var _b=[[1e3,6e4,"sec"],[6e4,36e5,"min"],[36e5,864e5,"hour"],[864e5,6048e5,"day"],[6048e5,2628e6,"week"],[2628e6,31536e6,"month"],[31536e6,1/0,"year"]],wb={"1 day ago":"yesterday","1 week ago":"last week","1 month ago":"last month","1 year ago":"last year","in 1 day":"tomorrow","in 1 week":"next week","in 1 month":"next month","in 1 year":"next year"};function ss(t,{now:e,noAffix:r=!1,times:n=_b,nowThreshold:i=1e4,nowString:a="now",aliases:l=!1,aliasesMap:c=wb}={}){if(t=typeof t=="number"?t:Date.parse(t),e=e?typeof e=="number"?e:Date.parse(e):new Date,Number.isNaN(t))return"unknown";let h=!1,f=e-t;if(f<0&&(h=!0,f=Math.abs(f)),f<i)return a;let b,m;for(let p=0,_=n.length;p<_;p++){let S=n[p];if(!(f>=S[1])){b=Math.floor(f/S[0]),m=S[2]+(b>1?"s":"");break}}let g=`${h&&!r?"in ":""}${b} ${m}${!h&&!r?" ago":""}`;return l?c[g]??g:g}import Di from"node:process";import Rb from"node:os";import Gc from"node:tty";function ve(t,e=globalThis.Deno?globalThis.Deno.args:Di.argv){let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:X}=Di,is;ve("no-color")||ve("no-colors")||ve("color=false")||ve("color=never")?is=0:(ve("color")||ve("colors")||ve("color=true")||ve("color=always"))&&(is=1);function Sb(){if("FORCE_COLOR"in X)return X.FORCE_COLOR==="true"?1:X.FORCE_COLOR==="false"?0:X.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(X.FORCE_COLOR,10),3)}function Eb(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Tb(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=Sb();n!==void 0&&(is=n);let i=r?is:n;if(i===0)return 0;if(r){if(ve("color=16m")||ve("color=full")||ve("color=truecolor"))return 3;if(ve("color=256"))return 2}if("TF_BUILD"in X&&"AGENT_NAME"in X)return 1;if(t&&!e&&i===void 0)return 0;let a=i||0;if(X.TERM==="dumb")return a;if(Di.platform==="win32"){let l=Rb.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in X)return"GITHUB_ACTIONS"in X||"GITEA_ACTIONS"in X?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(l=>l in X)||X.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in X)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(X.TEAMCITY_VERSION)?1:0;if(X.COLORTERM==="truecolor"||X.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in X){let l=Number.parseInt((X.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(X.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(X.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(X.TERM)||"COLORTERM"in X?1:a}function Vc(t,e={}){let r=Tb(t,{streamIsTTY:t&&t.isTTY,...e});return Eb(r)}var Ab={stdout:Vc({isTTY:Gc.isatty(1)}),stderr:Vc({isTTY:Gc.isatty(2)})},Yc=Ab;var Qc=!0;function Kc(){Qc=!1}function Hi(t,e,r){return Qc?`\x1B[${e}m${t.join(" ")}\x1B[${r}m`:t.join(" ")}var Bi=(...t)=>Hi(t,31,39),Zt=(...t)=>Hi(t,32,39);var os=(...t)=>Hi(t,35,39);var Cb=t=>{let e=typeof t;return t!==null&&(e==="object"||e==="function")};var Fi=new Set(["__proto__","prototype","constructor"]),vb=new Set("0123456789");function xb(t){let e=[],r="",n="start",i=!1;for(let a of t)switch(a){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");i&&(r+=a),n="property",i=!i;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(i){i=!1,r+=a;break}if(Fi.has(r))return[];e.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(i){i=!1,r+=a;break}if(n==="property"){if(Fi.has(r))return[];e.push(r),r=""}n="index";break}case"]":{if(n==="index"){e.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!vb.has(a))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),i&&(i=!1,r+="\\"),r+=a}}switch(i&&(r+="\\"),n){case"property":{if(Fi.has(r))return[];e.push(r);break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function Ob(t,e){if(typeof e!="number"&&Array.isArray(t)){let r=Number.parseInt(e,10);return Number.isInteger(r)&&t[r]===t[e]}return!1}function Xc(t,e,r){if(!Cb(t)||typeof e!="string")return r===void 0?t:r;let n=xb(e);if(n.length===0)return r;for(let i=0;i<n.length;i++){let a=n[i];if(Ob(t,a)?t=i===n.length-1?void 0:null:t=t[a],t==null){if(i!==n.length-1)return r;break}}return t===void 0?r:t}var qi=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},Zc=t=>globalThis.DOMException===void 0?new qi(t):new DOMException(t),Jc=t=>{let e=t.reason===void 0?Zc("This operation was aborted."):t.reason;return e instanceof Error?e:Zc(e)};async function Ui(t,e,{concurrency:r=Number.POSITIVE_INFINITY,stopOnError:n=!0,signal:i}={}){return new Promise((a,l)=>{if(t[Symbol.iterator]===void 0&&t[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof t})`);if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(r)||r===Number.POSITIVE_INFINITY)&&r>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);let c=[],h=[],f=new Map,b=!1,m=!1,g=!1,p=0,_=0,S=t[Symbol.iterator]===void 0?t[Symbol.asyncIterator]():t[Symbol.iterator](),A=O=>{b=!0,m=!0,l(O)};i&&(i.aborted&&A(Jc(i)),i.addEventListener("abort",()=>{A(Jc(i))}));let w=async()=>{if(m)return;let O=await S.next(),x=_;if(_++,O.done){if(g=!0,p===0&&!m){if(!n&&h.length>0){A(new AggregateError(h));return}if(m=!0,f.size===0){a(c);return}let T=[];for(let[I,D]of c.entries())f.get(I)!==eh&&T.push(D);a(T)}return}p++,(async()=>{try{let T=await O.value;if(m)return;let I=await e(T,x);I===eh&&f.set(x,I),c[x]=I,p--,await w()}catch(T){if(n)A(T);else{h.push(T),p--;try{await w()}catch(I){A(I)}}}})()};(async()=>{for(let O=0;O<r;O++){try{await w()}catch(x){A(x);break}if(g||b)break}})()})}var eh=Symbol("skip");async function Wi(t,e){return Ui(t,r=>r(),e)}function Jt(t,e){var r=0,n,i;e=e||{};function a(){var l=n,c=arguments.length,h,f;e:for(;l;){if(l.args.length!==arguments.length){l=l.next;continue}for(f=0;f<c;f++)if(l.args[f]!==arguments[f]){l=l.next;continue e}return l!==n&&(l===i&&(i=l.prev),l.prev.next=l.next,l.next&&(l.next.prev=l.prev),l.next=n,l.prev=null,n.prev=l,n=l),l.val}for(h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return l={args:h,val:t.apply(null,h)},n?(n.prev=l,l.next=n):i=l,r===e.maxSize?(i=i.prev,i.next=null):r++,n=l,l.val}return a.clear=function(){n=null,i=null,r=0},a}var ir,Ch;globalThis.fetch&&!((Ch=Fb)!=null&&Ch.node)?ir=globalThis.fetch:ir=Ys(qn,{undici:!1});var Lh=96,Qe="\0",jb=/^.*?:\/\/(.*?@)?(github\.com[:/])/i,kb=/^([^/]+)\/([^/#]+)?.*?\/([0-9a-f]+|v?[0-9]+\.[0-9]+\.[0-9]+)$/i,Xi=/^[0-9a-f]{7,}$/i,_h=/[0-9]+(\.[0-9]+)?(\.[0-9]+)?/g,or=t=>t.replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&"),Gb=Jt($h.default.fromUrl),Gi=Jt(xh.default),fs=Jt(t=>t.endsWith("/")?t.substring(0,t.length-1):t),Vb=new Set(["patch"]),Yb=new Set(["patch","minor"]),Qb=new Set(["patch","minor","major"]),Nh="14.4.0",W=(0,vh.default)(Bb.slice(2),{boolean:["E","error-on-outdated","U","error-on-unchanged","h","help","j","json","n","no-color","u","update","v","version","V","verbose"],string:["d","allow-downgrade","f","file","g","greatest","l","language","m","minor","P","patch","p","prerelease","R","release","r","registry","t","types","githubapi","pypiapi"],alias:{d:"allow-downgrade",E:"error-on-outdated",U:"error-on-unchanged",e:"exclude",f:"file",g:"greatest",h:"help",i:"include",j:"json",l:"language",m:"minor",n:"no-color",P:"patch",p:"prerelease",r:"registry",R:"release",s:"semver",S:"sockets",t:"types",u:"update",v:"version",V:"verbose"}});(W["no-color"]||!Yc.stdout)&&Kc();var tr=ar(W.greatest),Vi=ar(W.prerelease),Yi=ar(W.release),rr=ar(W.patch),nr=ar(W.minor),sr=ar(W["allow-downgrade"]),qe=(0,Oh.default)("npm",{registry:"https://registry.npmjs.org"}),Qi={npmrc:qe,recursive:!0},wh=W.githubapi?fs(W.githubapi):"https://api.github.com",Kb=W.pypiapi?fs(W.pypiapi):"https://pypi.org",Dh=typeof W.sockets=="number"?parseInt(W.sockets):Lh,Xb=Jt((t,e)=>{let r=e[`${t}:registry`]||e.registry;return r.endsWith("/")?r:`${r}/`});function Hh(t,e,r){let n=hs(e,t);try{return zb(n),n}catch{}let i=Ph(e);return r&&n===r||i===e?null:Hh(t,i,r)}function Zb(t,e){if(t.startsWith("@")){let r=(/@[a-z0-9][\w-.]+/.exec(t)||[])[0],n=fs(Xb(r,qe));if(n!==e)try{let i=Gi(n,Qi);if(i!=null&&i.token)return[i,n]}catch{}return[Gi(e,Qi),e]}else return[Gi(e,Qi),e]}var Bh=Jt((t,e,r)=>({...Object.keys(t).length&&{agentOpts:t},headers:{"user-agent":`updates/${Nh}`,...r&&{Authorization:`${e} ${r}`}}}));async function Jb(t,e,r,n){let[i,a]=Zb(t,r),c=(e==="resolutions"?cy(t):t).replace(/\//g,"%2f"),h=`${a}/${c}`;W.verbose&&console.error(`${os("fetch")} ${h}`);let f=await ir(h,Bh(n,i==null?void 0:i.type,i==null?void 0:i.token));if(f!=null&&f.ok)return W.verbose&&console.error(`${Zt("done")} ${h}`),[await f.json(),e,a,t];throw f!=null&&f.status&&(f!=null&&f.statusText)?new Error(`Received ${f.status} ${f.statusText} for ${t} from ${a}`):new Error(`Unable to fetch ${t} from ${a}`)}async function ey(t,e,r){let n=`${Kb}/pypi/${t}/json`;W.verbose&&console.error(`${os("fetch")} ${n}`);let i=await ir(n,Bh(r));if(i!=null&&i.ok)return W.verbose&&console.error(`${Zt("done")} ${n}`),[await i.json(),e,null,t];throw i!=null&&i.status&&(i!=null&&i.statusText)?new Error(`Received ${i.status} ${i.statusText} for ${t} from PyPi`):new Error(`Unable to fetch ${t} from PyPi`)}function Rh({repository:t,homepage:e,info:r},n,i){var c;r&&(t=r.project_urls.repository||r.project_urls.Repository||r.project_urls.repo||r.project_urls.Repo||r.project_urls.source||r.project_urls.Source||r.project_urls["source code"]||r.project_urls["Source Code"]||r.project_urls.homepage||r.project_urls.Homepage||`https://pypi.org/project/${i}/`);let a;if(n==="https://npm.pkg.github.com")return`https://github.com/${i.replace(/^@/,"")}`;if(t){let h=typeof t=="string"?t:t.url,f=Gb(h),b=(c=f==null?void 0:f.browse)==null?void 0:c.call(f);b&&(a=b),a&&t.directory&&f.treepath&&(a=`${a}/${f.treepath}/HEAD/${t.directory}`),!a&&(t!=null&&t.url)&&/^https?:/.test(t.url)&&(a=t.url),!a&&h&&(a=h)}let l=a||e||"";if(l){let h=new URL(l);h.protocol==="http:"&&h.hostname==="github.com"&&(h.protocol="https:",l=String(h))}return l}function xe(t,e={}){let r={},n=t instanceof Error;typeof t=="string"?r.message=t:n&&(r.error=t.stack||t.message);for(let i of Object.values(e))"oldPrint"in i&&(i.old=i.oldPrint,delete i.oldPrint),"newPrint"in i&&(i.new=i.newPrint,delete i.newPrint),"oldOriginal"in i&&(i.old=i.oldOriginal,delete i.oldOriginal);if(W.json){if(!n){r.results={};for(let[i,a]of Object.entries(e)){let[l,c]=i.split(Qe);r.results[l]||(r.results[l]={}),r.results[l][c]=a}}console.info(JSON.stringify(r))}else Object.keys(e).length&&!n&&console.info(ry(e)),(r.message||r.error)&&(r.message?console.info(r.message):r.error&&console.info(Bi(r.error)));W["error-on-outdated"]?Vr(Object.keys(e).length?2:0):W["error-on-unchanged"]?Vr(Object.keys(e).length?0:2):Vr(r.error?1:0)}async function ty(t,e){let{platform:r}=await import("node:os"),n=r()==="win32";n&&Wb(t,0),Mb(t,e,n?{flag:"r+"}:void 0)}function Sh(t,e,r){if(t===e)return t;let n=t.split(/\./),i=e.split(/\./),a=/^[0-9a-zA-Z-.]+$/,l="";for(let c=0;c<n.length;c++)if(n[c]!==i[c]){a.test(n[c])?l+=r(n.slice(c).join(".")):l+=n[c].split("").map(h=>a.test(h)?r(h):h).join("")+r(`.${n.slice(c+1).join(".")}`);break}else l+=`${n[c]}.`;return l}function ry(t){let e=[["NAME","OLD","NEW","AGE","INFO"]],r=new Set;for(let[n,i]of Object.entries(t)){let a=n.split(Qe)[1];r.has(a)||(r.add(a),e.push([a,Sh(i.old,i.new,Bi),Sh(i.new,i.old,Zt),i.age||"",i.info]))}return(0,Ih.default)(e,{hsep:" ",stringLength:n=>n.replace(Ws(),"").length})}function ny(t,e){let r=t;for(let n of Object.keys(e)){let i=n.split(Qe)[1],a=e[n].oldOriginal||e[n].old,l=new RegExp(`"${or(i)}": *"${or(a)}"`,"g");r=r.replace(l,`"${i}": "${e[n].new}"`)}return r}function sy(t,e){let r=t;for(let n of Object.keys(e)){let i=n.split(Qe)[1],a=e[n].oldOriginal||e[n].old,l=new RegExp(`${or(i)} *= *"${or(a)}"`,"g");r=r.replace(l,`${i} = "${e[n].new}"`)}return r}function iy(t,e){return t.replace(/[0-9]+\.[0-9]+\.[0-9]+(-.+)?/g,e)}function Ki(t){let e=(0,G.parse)(t);return e?!!e.prerelease.length:!1}function Fh(t){return/[0-9]+\.[0-9]+\.[0-9]+-.+/.test(t)}function oy(t){try{return(0,G.coerce)(t).version}catch{return null}}function ay(t,e,{range:r,semvers:n,usePre:i,useRel:a,useGreatest:l}={}){let c=oy(r),h=0;n=new Set(n),i=Fh(r)||i,i&&(n.add("prerelease"),n.has("patch")&&n.add("prepatch"),n.has("minor")&&n.add("preminor"),n.has("major")&&n.add("premajor"));for(let f of e){let b=(0,G.parse)(f);if(b.prerelease.length&&(!i||a))continue;let m=(0,G.diff)(c,b.version);if(!(!m||!n.has(m)))if(l||!("time"in t))(0,G.gte)((0,G.coerce)(b.version).version,c)&&(c=b.version);else{let g=new Date(t.time[f]).getTime();g>=0&&g>h&&(c=b.version,h=g)}}return c||null}function ly(t,{language:e,range:r,useGreatest:n,useRel:i,usePre:a,semvers:l}={}){var f;if(r==="*"||r.includes("||"))return null;let c=Object.keys(e==="py"?t.releases:t.versions).filter(b=>(0,G.valid)(b)),h=ay(t,c,{range:r,semvers:l,usePre:a,useRel:i,useGreatest:n});if(n)return h;{let b,m;e==="py"?(m=t.info.version,b=(0,G.coerce)(t.info.version).version):b=t["dist-tags"].latest;let g=(0,G.coerce)(r).version,p=Fh(r),_=Ki(h),S=Ki(b),A=(0,G.gt)(h,g);if(!i&&a||p&&_||i&&!A&&p&&!_||p&&!_&&A)return h;if(p&&!_&&!A)return null;let w=(0,G.diff)(g,b);return w&&w!=="prerelease"&&!l.has(w.replace(/^pre/,""))||i&&Ki(b)?h:(0,G.lt)(b,g)&&!S?sr===!0||(f=sr==null?void 0:sr.has)!=null&&f.call(sr,t.name)?b:null:m??b}}async function uy([t,e],{useGreatest:r}={}){var h,f;let n=e.old.replace(jb,""),[i,a,l,c]=kb.exec(n)||[];if(!(!a||!l||!c))if(Xi.test(c)){let b={maxSockets:Dh},m=cs.UPDATES_GITHUB_API_TOKEN||cs.GITHUB_API_TOKEN||cs.GH_TOKEN||cs.HOMEBREW_GITHUB_API_TOKEN;m&&(b.headers={Authorization:`Bearer ${m}`});let g=`${wh}/repos/${a}/${l}/commits`;W.verbose&&console.error(`${os("fetch")} ${g}`);let p=await ir(g,b);if(W.verbose&&(p!=null&&p.ok)&&console.error(`${Zt("done")} ${g}`),!p||!p.ok)return;let _=await p.json(),{sha:S,commit:A}=_[0];if(!S||!S.length)return;let w=((h=A==null?void 0:A.committer)==null?void 0:h.date)??((f=A==null?void 0:A.author)==null?void 0:f.date);if(S=S.substring(0,c.length),c!==S){let O=e.old.replace(c,S);return{key:t,newRange:O,user:a,repo:l,oldRef:c,newRef:S,newDate:w}}}else{let b=await ir(`${wh}/repos/${a}/${l}/git/refs/tags`);if(!b||!b.ok)return;let g=(await b.json()).map(_=>_.ref.replace(/^refs\/tags\//,"")),p=c.replace(/^v/,"");if(!(0,G.valid)(p))return;if(r){let _=c,S=c.replace(/^v/,"");for(let A of g){let w=A.replace(/^v/,"");(0,G.valid)(w)&&(!_||(0,G.gt)(w,S))&&(_=A,S=w)}if((0,G.neq)(p,S))return{key:t,newRange:_,user:a,repo:l,oldRef:c,newRef:_}}else{let _=g[g.length-1],S=_.replace(/^v/,"");if(!(0,G.valid)(S))return;if((0,G.neq)(p,S))return{key:t,newRange:_,user:a,repo:l,oldRef:c,newRef:_}}}}function cy(t){let e=t.match(/(@[^/]+\/)?([^/]+)/g)||[];return e[e.length-1]}function hy(t){let e=t.match(_h);return(e==null?void 0:e.length)!==1?t:t.replace(_h,(0,G.coerce)(e[0]))}function ar(t){return t===void 0?!1:t===""?!0:typeof t=="string"?t.includes(",")?new Set(t.split(",")):new Set([t]):Array.isArray(t)?new Set(t):!1}function Eh(t){return Array.from(t.matchAll(/(----BEGIN CERT[^]+?IFICATE----)/g),e=>e[0])}async function Th(t=[]){return[...(await import("node:tls")).rootCertificates,...t]}function Ah(t,e){let r=new Set;for(let n of t||[])r.add(new RegExp(/\/.+\//.test(n)?n.slice(1,-1):`^${or(n)}$`));for(let n of e||[])r.add(n instanceof RegExp?n:new RegExp(`^${or(n)}$`));return r}async function fy(){var H,Q,re,ne,we,Ue,vt,lr,Yr;for(let v of[process.stdout,process.stderr])(Q=(H=v==null?void 0:v._handle)==null?void 0:H.setBlocking)==null||Q.call(H,!0);let{help:t,version:e,language:r,file:n,types:i,update:a}=W;if(t&&(Hb.write(`usage: updates [options]

  Options:
    -u, --update                       Update versions and write package file
    -f, --file <path>                  Use given package file or module directory
    -i, --include <pkg,...>            Include only given packages, supports '/regex/' syntax
    -e, --exclude <pkg,...>            Exclude given packages, supports '/regex/' syntax
    -p, --prerelease [<pkg,...>]       Consider prerelease versions
    -R, --release [<pkg,...>]          Only use release versions, may downgrade
    -g, --greatest [<pkg,...>]         Prefer greatest over latest version
    -t, --types <type,...>             Check only given dependency types
    -P, --patch [<pkg,...>]            Consider only up to semver-patch
    -m, --minor [<pkg,...>]            Consider only up to semver-minor
    -d, --allow-downgrade [<pkg,...>]  Allow version downgrades when using latest version
    -E, --error-on-outdated            Exit with code 2 when updates are available and 0 when not
    -U, --error-on-unchanged           Exit with code 0 when updates are available and 2 when not
    -r, --registry <url>               Override npm registry URL
    -l, --language <lang>              Language to check, either 'js' or 'py'
    -S, --sockets <num>                Maximum number of parallel HTTP sockets opened. Default: ${Lh}
    -j, --json                         Output a JSON object
    -n, --no-color                     Disable color output
    -v, --version                      Print the version
    -V, --verbose                      Print verbose output to stderr
    -h, --help                         Print this help

  Examples:
    $ updates
    $ updates -u
    $ updates -e '/^react-(dom)?/'
    $ updates -f package.json
    $ updates -f pyproject.toml
`),Vr(0)),e&&(console.info(Nh),Vr(0)),r&&!["js","py"].includes(r))throw new Error(`Invalid language: ${r}`);if(n){let v=ki(n);v==="package.json"?r="js":v==="pyproject.toml"&&(r="py")}r||(r="js");let l;r==="py"?l="pyproject.toml":r==="js"&&(l="package.json");let c;if(n){let v;try{v=Ub(n)}catch(J){xe(new Error(`Unable to open ${n}: ${J.message}`))}v!=null&&v.isFile()?c=n:v!=null&&v.isDirectory()?c=hs(n,l):xe(new Error(`${n} is neither a file nor directory`))}else{let v=Db();if(c=Hh(l,v),!c)return xe(new Error(`Unable to find ${l} in ${v} or any of its parent directories`))}let h=Ph(qb(c)),f={};try{f=(await import(hs(h,"updates.config.js"))).default}catch{try{f=(await import(hs(h,"updates.config.mjs"))).default}catch{}}let b={};if(r==="js"&&(qe["strict-ssl"]===!1&&(b.rejectUnauthorized=!1),"cafile"in qe&&(b.ca=Th(Eh(yh(qe.cafile,"utf8")))),"ca"in qe)){let v=Array.isArray(qe.ca)?qe.ca:[qe.ca];b.ca=Th(v.map(J=>Eh(J)))}let m;i?m=Array.isArray(i)?i:i.split(","):"types"in f&&Array.isArray(f.types)?m=f.types:r==="js"?m=["dependencies","devDependencies","optionalDependencies","peerDependencies","resolutions"]:m=["tool.poetry.dependencies","tool.poetry.dev-dependencies","tool.poetry.group.dev.dependencies"];let g,p;try{p=yh(c,"utf8")}catch(v){xe(new Error(`Unable to open ${c}: ${v.message}`))}try{r==="js"?g=JSON.parse(p):g=(await Promise.resolve().then(()=>Le(bh(),1))).default(p)}catch(v){xe(new Error(`Error parsing ${c}: ${v.message}`))}let _,S;W.include&&W.include!==!0&&(_=(Array.isArray(W.include)?W.include:[W.include]).flatMap(v=>v.split(","))),W.exclude&&W.exclude!==!0&&(S=(Array.isArray(W.exclude)?W.exclude:[W.exclude]).flatMap(v=>v.split(",")));let A=Ah(_,f==null?void 0:f.include),w=Ah(S,f==null?void 0:f.exclude);function O(v,J){if(J==="py"&&v==="python")return!1;for(let Z of w)if(Z.test(v))return!1;for(let Z of A)if(!Z.test(v))return!1;return!0}let x={},T={};for(let v of m){let J;r==="js"?J=g[v]||{}:J=Xc(g,v)||{};for(let[Z,ge]of Object.entries(J))(0,G.validRange)(ge)&&O(Z,r)?x[`${v}${Qe}${Z}`]={old:hy(ge),oldOriginal:ge}:r==="js"&&O(Z,r)&&(T[`${v}${Qe}${Z}`]={old:ge})}!Object.keys(x).length&&!Object.keys(T).length&&(A.size||w.size?xe(new Error("No dependencies match the given include/exclude filters")):xe("No dependencies present, nothing to do"));let I;r==="js"&&(I=fs(W.registry||f.registry||qe.registry));let D=await Wi(Object.keys(x).map(v=>()=>{let[J,Z]=v.split(Qe);return r==="js"?Jb(Z,J,I,b):ey(Z,J,b)}),{concurrency:Dh});for(let[v,J,Z,ge]of D){if(v!=null&&v.error)throw new Error(v.error);let Ke=typeof tr=="boolean"?tr:tr.has(v.name),ut=typeof Vi=="boolean"?Vi:Vi.has(v.name),We=typeof Yi=="boolean"?Yi:Yi.has(v.name),Oe;rr===!0||(re=rr==null?void 0:rr.has)!=null&&re.call(rr,v.name)?Oe=Vb:nr===!0||(ne=nr==null?void 0:nr.has)!=null&&ne.call(nr,v.name)?Oe=Yb:Oe=Qb;let Re=`${J}${Qe}${ge}`,ur=x[Re].old,oe=ly(v,{usePre:ut,useRel:We,useGreatest:Ke,semvers:Oe,range:ur,language:r}),he=iy(ur,oe);!oe||ur===he?delete x[Re]:(x[Re].new=he,r==="js"?x[Re].info=Rh((we=v==null?void 0:v.versions)==null?void 0:we[oe],Z,v.name):x[Re].info=Rh(v,Z,v.info.name),(Ue=v.time)!=null&&Ue[oe]?x[Re].age=ss(v.time[oe],{noAffix:!0}):(Yr=(lr=(vt=v.releases)==null?void 0:vt[oe])==null?void 0:lr[0])!=null&&Yr.upload_time_iso_8601&&(x[Re].age=ss(v.releases[oe][0].upload_time_iso_8601,{noAffix:!0})))}if(Object.keys(T).length){let v=await Promise.all(Object.entries(T).map(([J,Z])=>{let ge=J.split(Qe)[1],Ke=typeof tr=="boolean"?tr:tr.has(ge);return uy([J,Z],{useGreatest:Ke})}));for(let J of(v||[]).filter(Boolean)){let{key:Z,newRange:ge,user:Ke,repo:ut,oldRef:We,newRef:Oe,newDate:Re}=J;x[Z]={old:T[Z].old,new:ge,oldPrint:Xi.test(We)?We.substring(0,7):We,newPrint:Xi.test(Oe)?Oe.substring(0,7):Oe,info:`https://github.com/${Ke}/${ut}`,...Re?{age:ss(Re,{noAffix:!0})}:{}}}}Object.keys(x).length||xe("All dependencies are up to date."),a||xe(void 0,x);try{let v;r==="js"?v=ny:v=sy,await ty(c,v(p,x))}catch(v){xe(new Error(`Error writing ${ki(c)}: ${v.message}`))}xe(Zt(`\u2728 ${ki(c)} updated`),x)}fy().catch(xe);
